import{r as g,j as t,L as ee,T as te,P as M,e as se,l as u,k as O,s as X}from"./index-BqTI3VMm.js";const le=function(){const D=g.useRef(null),C=g.useRef(),[E]=g.useState([{name:"Aluminum",conductivity:237,density:2700,specificHeat:897,color:"#c0c0c0"},{name:"Steel",conductivity:50,density:7850,specificHeat:434,color:"#708090"},{name:"Copper",conductivity:401,density:8960,specificHeat:385,color:"#b87333"},{name:"Ceramic",conductivity:2,density:3800,specificHeat:900,color:"#deb887"},{name:"Air",conductivity:.026,density:1.225,specificHeat:1006,color:"#87ceeb"}]),[d,v]=g.useState({gridSize:40,timeStep:.01,ambientTemp:20,showTemperatureField:!0,showHeatFlux:!0,showIsotherms:!0,animationSpeed:1,colormap:"thermal"}),[b,A]=g.useState([]),[T,F]=g.useState([{x:.2,y:.5,power:100,radius:.05}]),[ne,re]=g.useState(0),[j,H]=g.useState({running:!1,time:0,maxTemp:100,minTemp:20});g.useEffect(()=>{const e=d.gridSize,s=[];for(let a=0;a<e;a++)for(let i=0;i<e;i++){const o=a/(e-1),h=i/(e-1);let r=0;o<.3?r=1:o>.7?r=2:(h<.3||h>.7)&&(r=3);const c=a===0||a===e-1||i===0||i===e-1;s.push({x:o,y:h,temperature:d.ambientTemp,fixedTemp:c,materialIndex:r})}A(s)},[d.gridSize,d.ambientTemp]);const Y=()=>{j.running&&(A(e=>{const s=[...e],a=d.gridSize,i=d.timeStep*d.animationSpeed,o=1/(a-1);for(let h=1;h<a-1;h++)for(let r=1;r<a-1;r++){const c=h*a+r,l=s[c];if(l.fixedTemp)continue;const n=E[l.materialIndex],m=n.conductivity/(n.density*n.specificHeat),p=s[(h+1)*a+r].temperature,f=s[(h-1)*a+r].temperature,y=s[h*a+(r+1)].temperature,N=s[h*a+(r-1)].temperature,$=l.temperature,_=(p-2*$+f)/(o*o),q=(y-2*$+N)/(o*o);let P=m*(_+q);T.forEach(x=>{if(Math.sqrt((l.x-x.x)**2+(l.y-x.y)**2)<x.radius){const L=x.power/(M*x.radius*x.radius);P+=L/(n.density*n.specificHeat*.01)}}),s[c].temperature=l.temperature+P*i}return s}),H(e=>({...e,time:e.time+d.timeStep})))};g.useEffect(()=>{if(j.running){const e=()=>{Y(),C.current=requestAnimationFrame(e)};C.current=requestAnimationFrame(e)}return()=>{C.current&&cancelAnimationFrame(C.current)}},[j.running,d]);const K=()=>{const e=D.current,s=e==null?void 0:e.getContext("2d");if(!e||!s||b.length===0)return;s.clearRect(0,0,e.width,e.height);const a=d.gridSize,i=e.width/a,o=e.height/a,h=b.map(n=>n.temperature),r=Math.min(...h),c=Math.max(...h),l=c-r||1;if(H(n=>({...n,minTemp:r,maxTemp:c})),d.showTemperatureField)for(let n=0;n<a;n++)for(let m=0;m<a;m++){const p=n*a+m,y=(b[p].temperature-r)/l,N=U(y,d.colormap);s.fillStyle=N,s.fillRect(n*i,m*o,i,o)}s.strokeStyle="#333",s.lineWidth=1;for(let n=0;n<a-1;n++)for(let m=0;m<a-1;m++){const p=n*a+m,f=b[p].materialIndex,y=b[(n+1)*a+m].materialIndex,N=b[n*a+(m+1)].materialIndex;f!==y&&(s.beginPath(),s.moveTo((n+1)*i,m*o),s.lineTo((n+1)*i,(m+1)*o),s.stroke()),f!==N&&(s.beginPath(),s.moveTo(n*i,(m+1)*o),s.lineTo((n+1)*i,(m+1)*o),s.stroke())}if(d.showIsotherms){s.strokeStyle="rgba(255, 255, 255, 0.6)",s.lineWidth=1;for(let n=.2;n<=.8;n+=.2){const m=r+n*l;G(s,b,a,i,o,m)}}T.forEach(n=>{const m=n.x*e.width,p=n.y*e.height,f=n.radius*Math.min(e.width,e.height);s.fillStyle="#ff4444",s.strokeStyle="#cc0000",s.lineWidth=2,s.beginPath(),s.arc(m,p,f,0,te),s.fill(),s.stroke(),s.fillStyle="#fff",s.font="12px Arial",s.textAlign="center",s.fillText(`${n.power}W`,m,p+4)}),d.showHeatFlux&&J(s,b,a,i,o,E)},U=(e,s)=>{switch(e=se(e,0,1),s){case"thermal":if(e<.25){const l=e/.25;return`rgb(${Math.round(u(0,0,l))}, ${Math.round(u(0,100,l))}, ${Math.round(u(100,200,l))})`}else if(e<.5){const l=(e-.25)/.25;return`rgb(${Math.round(u(0,200,l))}, ${Math.round(u(100,200,l))}, ${Math.round(u(200,0,l))})`}else if(e<.75){const l=(e-.5)/.25;return`rgb(${Math.round(u(200,255,l))}, ${Math.round(u(200,255,l))}, 0)`}else{const l=(e-.75)/.25;return`rgb(255, ${Math.round(u(255,150,l))}, 0)`}case"viridis":const a=Math.round(u(68,253,e)),i=Math.round(u(1,231,e*.8)),o=Math.round(u(84,37,e));return`rgb(${a}, ${i}, ${o})`;case"plasma":const h=Math.round(u(13,240,e)),r=Math.round(u(8,249,e*.7)),c=Math.round(u(135,33,e));return`rgb(${h}, ${r}, ${c})`;default:return`hsl(${240-e*240}, 100%, 50%)`}},G=(e,s,a,i,o,h)=>{for(let r=0;r<a-1;r++)for(let c=0;c<a-1;c++){const l=[s[r*a+c].temperature,s[(r+1)*a+c].temperature,s[(r+1)*a+(c+1)].temperature,s[r*a+(c+1)].temperature],n=Math.min(...l),m=Math.max(...l);h>=n&&h<=m&&(e.beginPath(),e.moveTo(r*i+i/2,c*o),e.lineTo(r*i+i/2,(c+1)*o),e.stroke())}},J=(e,s,a,i,o,h)=>{e.strokeStyle="rgba(255, 255, 255, 0.8)",e.lineWidth=1;const r=4;for(let c=r;c<a-r;c+=r)for(let l=r;l<a-r;l+=r){const n=c*a+l,m=s[n],p=h[m.materialIndex],f=s[(c+1)*a+l].temperature,y=s[(c-1)*a+l].temperature,N=s[c*a+(l+1)].temperature,$=s[c*a+(l-1)].temperature,_=2/(a-1),q=(f-y)/(2*_),P=(N-$)/(2*_),x=-p.conductivity*q,w=-p.conductivity*P;if(Math.sqrt(x*x+w*w)<1)continue;const W=.3*Math.min(i,o)/Math.max(Math.abs(x),Math.abs(w)),B=c*i+i/2,V=l*o+o/2,S=B+x*W,k=V+w*W;e.beginPath(),e.moveTo(B,V),e.lineTo(S,k),e.stroke();const I=Math.atan2(w,x),R=5;e.beginPath(),e.moveTo(S,k),e.lineTo(S-R*O(I-M/6),k-R*X(I-M/6)),e.moveTo(S,k),e.lineTo(S-R*O(I+M/6),k-R*X(I+M/6)),e.stroke()}};g.useEffect(()=>{K()},[b,d,T]);const Q=()=>{H(e=>({...e,running:!e.running}))},Z=()=>{H(e=>({...e,running:!1,time:0})),A(e=>e.map(s=>({...s,temperature:(s.fixedTemp,d.ambientTemp)})))},z=()=>{F(e=>[...e,{x:Math.random()*.6+.2,y:Math.random()*.6+.2,power:50,radius:.03}])};return t.jsxs("div",{className:"container mx-auto px-4 py-8",children:[t.jsxs("div",{className:"mb-8",children:[t.jsx("h1",{className:"text-3xl font-bold mb-4",children:"Thermal Dynamics Simulation"}),t.jsx("p",{className:"text-gray-600 mb-4",children:"Advanced heat transfer simulation with finite difference method, multiple materials, and thermal analysis."}),t.jsx("div",{className:"bg-slate-50 border border-slate-200 rounded-lg p-4",children:t.jsx("p",{className:"text-slate-800",children:"🔥 Real-time thermal analysis - heat conduction, material properties, and temperature field visualization"})})]}),t.jsxs("div",{className:"grid lg:grid-cols-4 gap-6",children:[t.jsxs("div",{className:"lg:col-span-1 space-y-6",children:[t.jsxs("div",{className:"bg-white border border-gray-300 rounded-lg p-4",children:[t.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Simulation Controls"}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"flex gap-2",children:[t.jsx("button",{onClick:Q,className:`flex-1 px-3 py-2 rounded-md transition-colors ${j.running?"bg-red-600 text-white hover:bg-red-700":"bg-green-600 text-white hover:bg-green-700"}`,children:j.running?"Pause":"Start"}),t.jsx("button",{onClick:Z,className:"flex-1 px-3 py-2 bg-gray-600 text-white rounded-md hover:bg-gray-700 transition-colors",children:"Reset"})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Animation Speed: ",d.animationSpeed.toFixed(1),"x"]}),t.jsx("input",{type:"range",min:"0.1",max:"3",step:"0.1",value:d.animationSpeed,onChange:e=>v(s=>({...s,animationSpeed:Number(e.target.value)})),className:"w-full"})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Time Step: ",d.timeStep]}),t.jsx("input",{type:"range",min:"0.001",max:"0.1",step:"0.001",value:d.timeStep,onChange:e=>v(s=>({...s,timeStep:Number(e.target.value)})),className:"w-full"})]})]})]}),t.jsxs("div",{className:"bg-white border border-gray-300 rounded-lg p-4",children:[t.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Display Options"}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs("label",{className:"flex items-center",children:[t.jsx("input",{type:"checkbox",checked:d.showTemperatureField,onChange:e=>v(s=>({...s,showTemperatureField:e.target.checked})),className:"mr-2"}),t.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Temperature Field"})]}),t.jsxs("label",{className:"flex items-center",children:[t.jsx("input",{type:"checkbox",checked:d.showHeatFlux,onChange:e=>v(s=>({...s,showHeatFlux:e.target.checked})),className:"mr-2"}),t.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Heat Flux Vectors"})]}),t.jsxs("label",{className:"flex items-center",children:[t.jsx("input",{type:"checkbox",checked:d.showIsotherms,onChange:e=>v(s=>({...s,showIsotherms:e.target.checked})),className:"mr-2"}),t.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Isotherms"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Colormap"}),t.jsxs("select",{value:d.colormap,onChange:e=>v(s=>({...s,colormap:e.target.value})),className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-md",children:[t.jsx("option",{value:"thermal",children:"Thermal"}),t.jsx("option",{value:"viridis",children:"Viridis"}),t.jsx("option",{value:"plasma",children:"Plasma"})]})]})]})]}),t.jsxs("div",{className:"bg-white border border-gray-300 rounded-lg p-4",children:[t.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Heat Sources"}),t.jsx("button",{onClick:z,className:"w-full mb-4 px-3 py-2 bg-orange-600 text-white rounded-md hover:bg-orange-700 transition-colors",children:"Add Heat Source"}),t.jsx("div",{className:"space-y-3",children:T.map((e,s)=>t.jsxs("div",{className:"bg-gray-50 rounded-lg p-3",children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsxs("span",{className:"text-sm font-medium",children:["Source ",s+1]}),t.jsx("button",{onClick:()=>F(a=>a.filter((i,o)=>o!==s)),className:"text-red-600 hover:text-red-800 text-sm",children:"Remove"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsxs("div",{children:[t.jsxs("label",{className:"block text-xs text-gray-600",children:["Power: ",e.power,"W"]}),t.jsx("input",{type:"range",min:"10",max:"200",step:"10",value:e.power,onChange:a=>{const i=[...T];i[s].power=Number(a.target.value),F(i)},className:"w-full"})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-xs text-gray-600",children:["Radius: ",(e.radius*100).toFixed(1),"%"]}),t.jsx("input",{type:"range",min:"0.01",max:"0.1",step:"0.005",value:e.radius,onChange:a=>{const i=[...T];i[s].radius=Number(a.target.value),F(i)},className:"w-full"})]})]})]},s))})]})]}),t.jsxs("div",{className:"lg:col-span-3",children:[t.jsxs("div",{className:"bg-white border border-gray-300 rounded-lg p-4",children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsx("h3",{className:"text-lg font-semibold",children:"Thermal Field Visualization"}),t.jsxs("div",{className:"text-sm text-gray-600",children:["Time: ",j.time.toFixed(2),"s | Temp Range:"," ",j.minTemp.toFixed(1),"°C -"," ",j.maxTemp.toFixed(1),"°C"]})]}),t.jsx("canvas",{ref:D,width:600,height:600,className:"border border-gray-300 rounded-lg bg-white w-full",style:{maxWidth:"600px",height:"auto",aspectRatio:"1"}})]}),t.jsxs("div",{className:"mt-4 bg-white border border-gray-300 rounded-lg p-4",children:[t.jsx("h3",{className:"text-lg font-semibold mb-3",children:"Material Properties"}),t.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-4",children:E.map((e,s)=>t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"w-8 h-8 mx-auto mb-2 rounded border-2 border-gray-300",style:{backgroundColor:e.color}}),t.jsx("div",{className:"text-sm font-medium",children:e.name}),t.jsxs("div",{className:"text-xs text-gray-600",children:["k: ",e.conductivity," W/m·K"]})]},s))})]})]})]}),t.jsxs("div",{className:"mt-8 grid md:grid-cols-2 gap-6",children:[t.jsxs("div",{className:"bg-slate-50 border border-slate-200 rounded-lg p-4",children:[t.jsx("h3",{className:"text-lg font-semibold mb-2 text-slate-800",children:"Heat Transfer Physics"}),t.jsxs("ul",{className:"text-slate-700 space-y-1",children:[t.jsxs("li",{children:["• ",t.jsx("strong",{children:"Fourier's Law"}),": q = -k∇T (heat conduction)"]}),t.jsxs("li",{children:["• ",t.jsx("strong",{children:"Heat Equation"}),": ∂T/∂t = α∇²T (diffusion)"]}),t.jsxs("li",{children:["• ",t.jsx("strong",{children:"Thermal Diffusivity"}),": α = k/(ρc_p)"]}),t.jsxs("li",{children:["• ",t.jsx("strong",{children:"Finite Difference"}),": Numerical solution method"]})]})]}),t.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[t.jsx("h3",{className:"text-lg font-semibold mb-2 text-blue-800",children:"Engineering Applications"}),t.jsxs("ul",{className:"text-blue-700 space-y-1",children:[t.jsxs("li",{children:["• ",t.jsx("strong",{children:"Electronics Cooling"}),": CPU heat dissipation"]}),t.jsxs("li",{children:["• ",t.jsx("strong",{children:"Building Design"}),": Thermal insulation analysis"]}),t.jsxs("li",{children:["• ",t.jsx("strong",{children:"Manufacturing"}),": Heat treatment processes"]}),t.jsxs("li",{children:["• ",t.jsx("strong",{children:"Energy Systems"}),": Heat exchanger design"]})]})]})]}),t.jsx("div",{className:"mt-6",children:t.jsx(ee,{to:"/examples/engineering",className:"inline-block px-4 py-2 bg-slate-600 text-white rounded-lg hover:bg-slate-700 transition-colors",children:"← Back to Examples"})})]})};export{le as component};
