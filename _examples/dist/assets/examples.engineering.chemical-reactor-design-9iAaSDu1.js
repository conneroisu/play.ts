import{r as p,j as t,B as S}from"./index-BqTI3VMm.js";import{B as b}from"./button-B7yz3rPd.js";import{C as j,a as v,b as g,d as P,c as y}from"./card--FLQYnaa.js";import{S as d}from"./slider-nv5Y-SsR.js";const V=function(){const N=p.useRef(null),[s,m]=p.useState({volume:10,temperature:350,pressure:2,feedRate:.5,concentration:2,reactorType:"cstr"}),[r,f]=p.useState({activationEnergy:65,preExponentialFactor:1e6,reactionOrder:1,heatOfReaction:-50}),[o,C]=p.useState({conversionRate:0,productConcentration:0,residenceTime:0,reactionRate:0,temperature:350,heatGenerated:0,efficiency:0,status:"optimal"}),T=a=>r.preExponentialFactor*Math.exp(-r.activationEnergy*1e3/(8.314*a)),F=()=>{const a=T(s.temperature),e=s.volume/s.feedRate;let i=0;switch(s.reactorType){case"cstr":const n=1+a*e*Math.pow(s.concentration,r.reactionOrder-1);i=a*e*Math.pow(s.concentration,r.reactionOrder-1)/n;break;case"pfr":if(r.reactionOrder===1)i=1-Math.exp(-a*e);else{const l=a*e*Math.pow(s.concentration,r.reactionOrder-1);i=l/(1+l)}break;case"batch":const h=e;if(r.reactionOrder===1)i=1-Math.exp(-a*h);else{const l=a*h*Math.pow(s.concentration,r.reactionOrder-1);i=l/(1+l)}break}return Math.min(i,.95)},k=()=>{const a=F(),e=s.concentration*a,i=s.volume/s.feedRate,n=T(s.temperature)*Math.pow(s.concentration*(1-a),r.reactionOrder),h=s.feedRate*s.concentration*1e3,l=Math.abs(r.heatOfReaction)*h*a/1e3,c=r.heatOfReaction<0?Math.abs(r.heatOfReaction)*a/4.18:0,x=s.temperature+c,R=a*100*(x<400?1:.8);let u;return a>.7&&x<400&&R>70?u="optimal":a>.5&&x<450?u="warning":u="critical",{conversionRate:a,productConcentration:e,residenceTime:i,reactionRate:n,temperature:x,heatGenerated:l,efficiency:R,status:u}};p.useEffect(()=>{const a=k();C(a)},[s,r]);const w=()=>{const a=N.current;if(!a)return;const e=a.getContext("2d");if(!e)return;e.clearRect(0,0,a.width,a.height);const i=a.width/2,n=a.height/2;if(s.reactorType==="cstr")e.fillStyle="#E3F2FD",e.strokeStyle="#1976D2",e.lineWidth=3,e.beginPath(),e.ellipse(i,n-20,80,60,0,0,2*Math.PI),e.fill(),e.stroke(),e.strokeStyle="#333",e.lineWidth=2,e.beginPath(),e.moveTo(i,n-80),e.lineTo(i,n+20),e.stroke(),e.beginPath(),e.moveTo(i-20,n),e.lineTo(i+20,n),e.moveTo(i-15,n-15),e.lineTo(i+15,n+15),e.stroke();else if(s.reactorType==="pfr"){e.fillStyle="#F3E5F5",e.strokeStyle="#7B1FA2",e.lineWidth=3,e.fillRect(i-120,n-25,240,50),e.strokeRect(i-120,n-25,240,50);for(let l=0;l<4;l++){const c=i-80+l*40;e.fillStyle="#7B1FA2",e.beginPath(),e.moveTo(c,n),e.lineTo(c-8,n-5),e.lineTo(c-8,n+5),e.closePath(),e.fill()}}else{e.fillStyle="#FFF3E0",e.strokeStyle="#F57C00",e.lineWidth=3,e.beginPath(),e.ellipse(i,n,70,80,0,0,2*Math.PI),e.fill(),e.stroke(),e.strokeStyle="#D84315",e.lineWidth=2;for(let l=0;l<5;l++){const c=n-60+l*30;e.beginPath(),e.ellipse(i,c,85,10,0,0,Math.PI),e.stroke()}}s.reactorType!=="batch"&&(e.strokeStyle="#4CAF50",e.lineWidth=4,e.beginPath(),e.moveTo(50,n),e.lineTo(i-(s.reactorType==="cstr"?80:120),n),e.stroke(),e.fillStyle="#4CAF50",e.beginPath(),e.moveTo(i-(s.reactorType==="cstr"?80:120),n),e.lineTo(i-(s.reactorType==="cstr"?90:130),n-8),e.lineTo(i-(s.reactorType==="cstr"?90:130),n+8),e.closePath(),e.fill(),e.fillStyle="#333",e.font="12px Arial",e.fillText("Feed",60,n-10),e.fillText(`${s.feedRate} m³/s`,60,n+10),e.fillText(`${s.concentration} mol/L`,60,n+25)),s.reactorType!=="batch"&&(e.strokeStyle="#FF9800",e.lineWidth=4,e.beginPath(),e.moveTo(i+(s.reactorType==="cstr"?80:120),n),e.lineTo(a.width-50,n),e.stroke(),e.fillStyle="#FF9800",e.beginPath(),e.moveTo(a.width-50,n),e.lineTo(a.width-60,n-8),e.lineTo(a.width-60,n+8),e.closePath(),e.fill(),e.fillStyle="#333",e.font="12px Arial",e.fillText("Product",a.width-100,n-10),e.fillText(`X = ${(o.conversionRate*100).toFixed(1)}%`,a.width-100,n+10)),e.fillStyle="#333",e.font="bold 16px Arial";const h=s.reactorType==="cstr"?"CSTR":s.reactorType==="pfr"?"PFR":"Batch Reactor";if(e.fillText(h,i-30,n+120),e.font="12px Arial",e.fillText(`T = ${s.temperature} K`,i-60,n+140),e.fillText(`P = ${s.pressure} bar`,i-60,n+155),e.fillText(`V = ${s.volume} m³`,i-60,n+170),r.heatOfReaction<0){e.strokeStyle="#F44336",e.lineWidth=2;for(let l=0;l<3;l++){e.beginPath();for(let c=i-60;c<i+60;c+=10){const x=n-100-l*15+Math.sin((c-i)/10)*5;c===i-60?e.moveTo(c,x):e.lineTo(c,x)}e.stroke()}}};return p.useEffect(()=>{w()},[s,o]),t.jsxs("div",{className:"container mx-auto px-4 py-8",children:[t.jsxs("div",{className:"mb-8",children:[t.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Chemical Reactor Design"}),t.jsx("p",{className:"text-gray-600",children:"Design and optimize chemical reactors with kinetics, mass balance, and heat transfer calculations."})]}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[t.jsxs(j,{children:[t.jsxs(v,{children:[t.jsx(g,{children:"Reactor Schematic"}),t.jsx(P,{children:"Process flow diagram with operating conditions"})]}),t.jsx(y,{children:t.jsx("canvas",{ref:N,width:500,height:350,className:"border rounded max-w-full"})})]}),t.jsxs("div",{className:"space-y-6",children:[t.jsxs(j,{children:[t.jsx(v,{children:t.jsx(g,{children:"Reactor Configuration"})}),t.jsxs(y,{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"text-sm font-medium",children:"Reactor Type"}),t.jsxs("div",{className:"flex space-x-2 mt-1",children:[t.jsx(b,{variant:s.reactorType==="cstr"?"default":"outline",size:"sm",onClick:()=>m({...s,reactorType:"cstr"}),children:"CSTR"}),t.jsx(b,{variant:s.reactorType==="pfr"?"default":"outline",size:"sm",onClick:()=>m({...s,reactorType:"pfr"}),children:"PFR"}),t.jsx(b,{variant:s.reactorType==="batch"?"default":"outline",size:"sm",onClick:()=>m({...s,reactorType:"batch"}),children:"Batch"})]})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"text-sm font-medium",children:["Volume: ",s.volume," m³"]}),t.jsx(d,{value:[s.volume],onValueChange:([a])=>m({...s,volume:a}),min:1,max:50,step:1,className:"mt-2"})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"text-sm font-medium",children:["Temperature: ",s.temperature," K"]}),t.jsx(d,{value:[s.temperature],onValueChange:([a])=>m({...s,temperature:a}),min:300,max:500,step:5,className:"mt-2"})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"text-sm font-medium",children:["Feed Rate: ",s.feedRate," m³/s"]}),t.jsx(d,{value:[s.feedRate],onValueChange:([a])=>m({...s,feedRate:a}),min:.1,max:2,step:.1,className:"mt-2"})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"text-sm font-medium",children:["Concentration: ",s.concentration," mol/L"]}),t.jsx(d,{value:[s.concentration],onValueChange:([a])=>m({...s,concentration:a}),min:.5,max:5,step:.1,className:"mt-2"})]})]})]}),t.jsxs(j,{children:[t.jsx(v,{children:t.jsx(g,{children:"Reaction Kinetics"})}),t.jsxs(y,{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsxs("label",{className:"text-sm font-medium",children:["Activation Energy: ",r.activationEnergy," kJ/mol"]}),t.jsx(d,{value:[r.activationEnergy],onValueChange:([a])=>f({...r,activationEnergy:a}),min:20,max:150,step:5,className:"mt-2"})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"text-sm font-medium",children:["Pre-exponential Factor:"," ",r.preExponentialFactor.toExponential(1)," s⁻¹"]}),t.jsx(d,{value:[Math.log10(r.preExponentialFactor)],onValueChange:([a])=>f({...r,preExponentialFactor:Math.pow(10,a)}),min:3,max:12,step:.5,className:"mt-2"})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"text-sm font-medium",children:["Reaction Order: ",r.reactionOrder]}),t.jsx(d,{value:[r.reactionOrder],onValueChange:([a])=>f({...r,reactionOrder:a}),min:.5,max:3,step:.5,className:"mt-2"})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"text-sm font-medium",children:["Heat of Reaction: ",r.heatOfReaction," kJ/mol"]}),t.jsx(d,{value:[r.heatOfReaction],onValueChange:([a])=>f({...r,heatOfReaction:a}),min:-100,max:50,step:5,className:"mt-2"})]})]})]})]})]}),t.jsx("div",{className:"mt-6",children:t.jsxs(j,{children:[t.jsxs(v,{children:[t.jsx(g,{children:"Performance Results"}),t.jsx("div",{className:"flex items-center space-x-2",children:t.jsx(S,{variant:o.status==="optimal"?"default":o.status==="warning"?"secondary":"destructive",children:o.status==="optimal"?"OPTIMAL":o.status==="warning"?"WARNING":"CRITICAL"})})]}),t.jsx(y,{children:t.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[t.jsxs("div",{className:"text-center p-3 bg-blue-50 rounded",children:[t.jsxs("div",{className:"text-2xl font-bold text-blue-600",children:[(o.conversionRate*100).toFixed(1),"%"]}),t.jsx("div",{className:"text-sm text-gray-600",children:"Conversion"})]}),t.jsxs("div",{className:"text-center p-3 bg-green-50 rounded",children:[t.jsx("div",{className:"text-2xl font-bold text-green-600",children:o.productConcentration.toFixed(2)}),t.jsx("div",{className:"text-sm text-gray-600",children:"Product Conc. (mol/L)"})]}),t.jsxs("div",{className:"text-center p-3 bg-orange-50 rounded",children:[t.jsx("div",{className:"text-2xl font-bold text-orange-600",children:o.residenceTime.toFixed(1)}),t.jsx("div",{className:"text-sm text-gray-600",children:"Residence Time (s)"})]}),t.jsxs("div",{className:"text-center p-3 bg-purple-50 rounded",children:[t.jsxs("div",{className:"text-2xl font-bold text-purple-600",children:[o.efficiency.toFixed(1),"%"]}),t.jsx("div",{className:"text-sm text-gray-600",children:"Efficiency"})]}),t.jsxs("div",{className:"text-center p-3 bg-red-50 rounded",children:[t.jsx("div",{className:"text-2xl font-bold text-red-600",children:o.temperature.toFixed(0)}),t.jsx("div",{className:"text-sm text-gray-600",children:"Reactor Temp. (K)"})]}),t.jsxs("div",{className:"text-center p-3 bg-indigo-50 rounded",children:[t.jsx("div",{className:"text-2xl font-bold text-indigo-600",children:o.heatGenerated.toFixed(1)}),t.jsx("div",{className:"text-sm text-gray-600",children:"Heat Generated (kW)"})]}),t.jsxs("div",{className:"text-center p-3 bg-teal-50 rounded",children:[t.jsx("div",{className:"text-2xl font-bold text-teal-600",children:o.reactionRate.toExponential(2)}),t.jsx("div",{className:"text-sm text-gray-600",children:"Reaction Rate (mol/L·s)"})]}),t.jsxs("div",{className:"text-center p-3 bg-yellow-50 rounded",children:[t.jsx("div",{className:"text-2xl font-bold text-yellow-600",children:T(s.temperature).toExponential(2)}),t.jsx("div",{className:"text-sm text-gray-600",children:"Rate Constant (s⁻¹)"})]})]})})]})}),t.jsxs("div",{className:"mt-8 p-4 bg-gray-50 rounded-lg",children:[t.jsx("h3",{className:"font-semibold mb-2",children:"Engineering Applications:"}),t.jsxs("ul",{className:"text-sm space-y-1 list-disc list-inside",children:[t.jsxs("li",{children:[t.jsx("strong",{children:"Process Design:"})," Size reactors for chemical plants and refineries"]}),t.jsxs("li",{children:[t.jsx("strong",{children:"Optimization:"})," Maximize conversion while minimizing costs and energy"]}),t.jsxs("li",{children:[t.jsx("strong",{children:"Safety Analysis:"})," Predict temperature rise and runaway reaction potential"]}),t.jsxs("li",{children:[t.jsx("strong",{children:"Scale-up:"})," Transfer lab-scale kinetics to industrial production"]}),t.jsxs("li",{children:[t.jsx("strong",{children:"Catalyst Selection:"})," Compare different catalysts and operating conditions"]}),t.jsxs("li",{children:[t.jsx("strong",{children:"Environmental Impact:"})," Minimize waste and optimize selectivity"]})]})]})]})};export{V as component};
