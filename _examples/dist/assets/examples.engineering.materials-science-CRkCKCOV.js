import{r as u,h as k,j as s,L as ie,t as $,T as b,P as H,k as z,s as U}from"./index-BqTI3VMm.js";const re=function(){const R=u.useRef(null),G=u.useRef(null),w=u.useRef(null),[C]=u.useState([{name:"Steel (AISI 1020)",youngsModulus:200,yieldStrength:350,ultimateStrength:420,elongation:36,density:7.87,poissonRatio:.29,color:k(220,70,50)},{name:"Aluminum 6061",youngsModulus:69,yieldStrength:276,ultimateStrength:310,elongation:17,density:2.7,poissonRatio:.33,color:k(180,70,60)},{name:"Titanium Ti-6Al-4V",youngsModulus:114,yieldStrength:880,ultimateStrength:950,elongation:14,density:4.43,poissonRatio:.32,color:k(280,70,50)},{name:"Copper C11000",youngsModulus:110,yieldStrength:70,ultimateStrength:220,elongation:45,density:8.96,poissonRatio:.34,color:k(30,80,50)},{name:"Carbon Fiber",youngsModulus:230,yieldStrength:3500,ultimateStrength:3500,elongation:1.5,density:1.6,poissonRatio:.2,color:k(0,0,20)}]),[M]=u.useState([{name:"Face-Centered Cubic (FCC)",latticeParameter:3.6,coordination:12,packingFactor:.74,description:"Common in Al, Cu, Au - high ductility"},{name:"Body-Centered Cubic (BCC)",latticeParameter:2.9,coordination:8,packingFactor:.68,description:"Common in Fe, Cr, W - moderate ductility"},{name:"Hexagonal Close-Packed (HCP)",latticeParameter:2.5,coordination:12,packingFactor:.74,description:"Common in Zn, Mg, Ti - limited ductility"}]),[x,J]=u.useState(C[0]),[p,K]=u.useState(M[0]),[A,O]=u.useState("tensile"),[T,Q]=u.useState("stress-strain"),[g,F]=u.useState({strainRate:.001,temperature:20,maxStrain:.5,cyclesCount:1e3,appliedStress:200,time:100}),[D,E]=u.useState(0),[y,I]=u.useState(!1),[_,W]=u.useState([]),[P,V]=u.useState({hardness:0,toughness:0,fatigue_limit:0,creep_rate:0,thermal_expansion:0,thermal_conductivity:0}),B=(t,e)=>{const l=[],i=e/1e3,n=t.yieldStrength/t.youngsModulus/1e3,d=t.elongation/100-n,a=elasticStrain+d*.8,m=t.elongation/100;for(let o=0;o<=e;o+=i){let r=0,c="elastic";if(o<=n)r=t.youngsModulus*o*1e3,c="elastic";else if(o<=a){const f=1+(o-n)/(d*2);r=t.yieldStrength*f,c="plastic"}else if(o<=m){const h=(o-a)/(m-a);r=t.ultimateStrength*(1-h*.3),c="necking"}else r=0,c="failure";if(t.name.includes("Carbon Fiber")&&o>n*1.1&&(r=0,c="failure"),l.push({strain:o,stress:r,region:c}),c==="failure"&&r===0)break}return l},Z=(t,e)=>{const i=1-(e-20)*.002,n=Math.max(0,(t.ultimateStrength/10-80)*i),d=t.elongation*t.ultimateStrength/10*i,a=t.ultimateStrength*.45*i,m=Math.max(0,(e-400)*.001*(1e3/t.youngsModulus)),o=t.name.includes("Carbon")?1.5:t.name.includes("Aluminum")?23.1:t.name.includes("Steel")?12:t.name.includes("Titanium")?8.6:16.5,r=t.name.includes("Aluminum")?237:t.name.includes("Copper")?401:t.name.includes("Steel")?50:t.name.includes("Titanium")?7:1;V({hardness:Math.round(n),toughness:Math.round(d),fatigue_limit:Math.round(a),creep_rate:m,thermal_expansion:o,thermal_conductivity:r})},q=()=>{const t=R.current,e=t==null?void 0:t.getContext("2d");if(!t||!e)return;e.clearRect(0,0,t.width,t.height),e.fillStyle="#f8fafc",e.fillRect(0,0,t.width,t.height);const l=C.map(r=>({material:r,data:B(r,g.maxStrain)})),i=Math.max(...l.flatMap(r=>r.data.map(c=>c.strain))),n=Math.max(...l.flatMap(r=>r.data.map(c=>c.stress))),d=(t.width-80)/i,a=(t.height-80)/n;e.strokeStyle="#e2e8f0",e.lineWidth=1;const m=5;for(let r=0;r<=m;r++){const c=r*n/m,h=t.height-40-c*a;e.beginPath(),e.moveTo(40,h),e.lineTo(t.width-40,h),e.stroke(),e.fillStyle="#64748b",e.font="12px Arial",e.textAlign="right",e.fillText(`${c.toFixed(0)} MPa`,35,h+4)}const o=10;for(let r=0;r<=o;r++){const c=r*i/o,h=40+c*d;e.beginPath(),e.moveTo(h,40),e.lineTo(h,t.height-40),e.stroke(),e.fillStyle="#64748b",e.font="12px Arial",e.textAlign="center",e.fillText(`${(c*100).toFixed(1)}%`,h,t.height-20)}if(e.strokeStyle="#1e293b",e.lineWidth=2,e.beginPath(),e.moveTo(40,t.height-40),e.lineTo(t.width-40,t.height-40),e.stroke(),e.beginPath(),e.moveTo(40,40),e.lineTo(40,t.height-40),e.stroke(),l.forEach((r,c)=>{const h=r.material,f=h.name===x.name;e.strokeStyle=$(h.color),e.lineWidth=f?4:2,e.globalAlpha=f?1:.7,e.beginPath();for(let j=0;j<r.data.length;j++){const S=r.data[j],v=40+S.strain*d,N=t.height-40-S.stress*a;j===0?e.moveTo(v,N):e.lineTo(v,N)}if(e.stroke(),e.globalAlpha=1,f){const j=r.data,S=j.find(N=>N.region==="plastic"),v=j.reduce((N,L)=>L.stress>N.stress?L:N,{strain:0,stress:0,region:"elastic"});S&&(e.fillStyle="#f59e0b",e.beginPath(),e.arc(40+S.strain*d,t.height-40-S.stress*a,6,0,b),e.fill(),e.fillStyle="#1e293b",e.font="12px Arial",e.textAlign="left",e.fillText("Yield",40+S.strain*d+10,t.height-40-S.stress*a-5)),e.fillStyle="#ef4444",e.beginPath(),e.arc(40+v.strain*d,t.height-40-v.stress*a,6,0,b),e.fill(),e.fillStyle="#1e293b",e.font="12px Arial",e.textAlign="left",e.fillText("Ultimate",40+v.strain*d+10,t.height-40-v.stress*a-5)}}),y&&_.length>0){const r=_[_.length-1],c=40+r.strain*d,h=t.height-40-r.stress*a;e.fillStyle="#dc2626",e.beginPath(),e.arc(c,h,8,0,b),e.fill(),e.strokeStyle="#dc2626",e.lineWidth=2,e.setLineDash([5,5]),e.beginPath(),e.moveTo(c,40),e.lineTo(c,t.height-40),e.stroke(),e.setLineDash([])}e.fillStyle="#1e293b",e.font="14px Arial",e.textAlign="center",e.fillText("Stress-Strain Curves",t.width/2,25),e.save(),e.translate(15,t.height/2),e.rotate(-H/2),e.textAlign="center",e.fillText("Stress (MPa)",0,0),e.restore(),e.textAlign="center",e.fillText("Strain (%)",t.width/2,t.height-5),C.forEach((r,c)=>{const h=60+c*20,f=r.name===x.name;e.strokeStyle=$(r.color),e.lineWidth=f?4:2,e.beginPath(),e.moveTo(t.width-200,h),e.lineTo(t.width-170,h),e.stroke(),e.fillStyle=f?"#1e293b":"#64748b",e.font=f?"bold 12px Arial":"12px Arial",e.textAlign="left",e.fillText(r.name,t.width-165,h+4)})},Y=()=>{const t=w.current,e=t==null?void 0:t.getContext("2d");if(!t||!e)return;e.clearRect(0,0,t.width,t.height),e.fillStyle="#f8fafc",e.fillRect(0,0,t.width,t.height);const l=t.width/2,i=t.height/2,n=80;e.fillStyle="#1e293b",e.font="bold 16px Arial",e.textAlign="center",e.fillText(p.name,l,30),e.font="12px Arial",e.fillText(p.description,l,50);const d=p.latticeParameter*n/4;switch(p.name){case"Face-Centered Cubic (FCC)":X(e,l,i,d);break;case"Body-Centered Cubic (BCC)":ee(e,l,i,d);break;case"Hexagonal Close-Packed (HCP)":te(e,l,i,d);break}const a=[`Lattice Parameter: ${p.latticeParameter.toFixed(1)} Å`,`Coordination Number: ${p.coordination}`,`Packing Factor: ${p.packingFactor.toFixed(2)}`];e.font="14px Arial",e.textAlign="left",a.forEach((m,o)=>{e.fillText(m,20,t.height-80+o*20)})},X=(t,e,l,i)=>{t.strokeStyle="#64748b",t.lineWidth=2,t.strokeRect(e-i,l-i,2*i,2*i);const n=i*.5;t.strokeRect(e-i+n,l-i-n,2*i,2*i),t.beginPath(),t.moveTo(e-i,l-i),t.lineTo(e-i+n,l-i-n),t.moveTo(e+i,l-i),t.lineTo(e+i+n,l-i-n),t.moveTo(e-i,l+i),t.lineTo(e-i+n,l+i-n),t.moveTo(e+i,l+i),t.lineTo(e+i+n,l+i-n),t.stroke();const d=8,a=[[e-i,l-i],[e+i,l-i],[e-i,l+i],[e+i,l+i],[e-i+n,l-i-n],[e+i+n,l-i-n],[e-i+n,l+i-n],[e+i+n,l+i-n]],m=[[e,l-i],[e,l+i],[e-i,l],[e+i,l],[e+n,l-i-n],[e+n,l+i-n]];t.fillStyle="#3b82f6",a.forEach(([o,r])=>{t.beginPath(),t.arc(o,r,d,0,b),t.fill()}),t.fillStyle="#ef4444",m.forEach(([o,r])=>{t.beginPath(),t.arc(o,r,d,0,b),t.fill()})},ee=(t,e,l,i)=>{t.strokeStyle="#64748b",t.lineWidth=2,t.strokeRect(e-i,l-i,2*i,2*i);const n=i*.5;t.strokeRect(e-i+n,l-i-n,2*i,2*i),t.beginPath(),t.moveTo(e-i,l-i),t.lineTo(e-i+n,l-i-n),t.moveTo(e+i,l-i),t.lineTo(e+i+n,l-i-n),t.moveTo(e-i,l+i),t.lineTo(e-i+n,l+i-n),t.moveTo(e+i,l+i),t.lineTo(e+i+n,l+i-n),t.stroke();const d=8,a=[[e-i,l-i],[e+i,l-i],[e-i,l+i],[e+i,l+i],[e-i+n,l-i-n],[e+i+n,l-i-n],[e-i+n,l+i-n],[e+i+n,l+i-n]];t.fillStyle="#3b82f6",a.forEach(([m,o])=>{t.beginPath(),t.arc(m,o,d,0,b),t.fill()}),t.fillStyle="#ef4444",t.beginPath(),t.arc(e+n/2,l-n/2,d,0,b),t.fill()},te=(t,e,l,i)=>{const d=i;t.strokeStyle="#64748b",t.lineWidth=2,t.beginPath();for(let a=0;a<6;a++){const m=a*H/3,o=e+d*z(m),r=l+d*U(m);a===0?t.moveTo(o,r):t.lineTo(o,r)}t.closePath(),t.stroke(),t.fillStyle="#3b82f6";for(let a=0;a<6;a++){const m=a*H/3,o=e+d*z(m),r=l+d*U(m);t.beginPath(),t.arc(o,r,8,0,b),t.fill()}t.fillStyle="#ef4444",t.beginPath(),t.arc(e,l,8,0,b),t.fill()},se=()=>{if(y&&A==="tensile"){const t=D+g.strainRate*.1;if(t<=g.maxStrain){const e=B(x,g.maxStrain),l=e.find(i=>Math.abs(i.strain-t)<.001)||e[e.length-1];W(i=>[...i,l]),E(t)}else I(!1)}};return u.useEffect(()=>{const t=R.current,e=G.current,l=w.current;if(!t||!e||!l)return;t.width=800,t.height=600,e.width=600,e.height=400,l.width=600,l.height=400;const i=setInterval(()=>{T==="stress-strain"?q():T==="crystal-structure"&&Y(),y&&se()},100);return()=>clearInterval(i)},[x,p,T,y,D,g]),u.useEffect(()=>{Z(x,g.temperature)},[x,g.temperature]),s.jsxs("div",{className:"container mx-auto px-4 py-8",children:[s.jsxs("div",{className:"mb-8",children:[s.jsx("h1",{className:"text-3xl font-bold mb-4",children:"Materials Science & Engineering"}),s.jsx("p",{className:"text-gray-600 mb-4",children:"Comprehensive materials analysis including stress-strain behavior, crystal structures, and material properties."}),s.jsx("div",{className:"bg-purple-50 border border-purple-200 rounded-lg p-4",children:s.jsx("p",{className:"text-purple-800",children:"🔬 Interactive materials characterization with mechanical testing and microstructural analysis"})})]}),s.jsxs("div",{className:"mb-6 bg-white rounded-lg border border-gray-200 p-4",children:[s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Material"}),s.jsx("select",{value:x.name,onChange:t=>J(C.find(e=>e.name===t.target.value)||C[0]),className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-purple-500",children:C.map(t=>s.jsx("option",{value:t.name,children:t.name},t.name))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Test Type"}),s.jsxs("select",{value:A,onChange:t=>{O(t.target.value),E(0),W([])},className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-purple-500",children:[s.jsx("option",{value:"tensile",children:"Tensile Test"}),s.jsx("option",{value:"fatigue",children:"Fatigue Test"}),s.jsx("option",{value:"creep",children:"Creep Test"}),s.jsx("option",{value:"hardness",children:"Hardness Test"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Display Mode"}),s.jsxs("select",{value:T,onChange:t=>Q(t.target.value),className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-purple-500",children:[s.jsx("option",{value:"stress-strain",children:"Stress-Strain"}),s.jsx("option",{value:"crystal-structure",children:"Crystal Structure"})]})]}),s.jsx("div",{className:"flex flex-col gap-2",children:s.jsxs("button",{type:"button",onClick:()=>{I(!y),y||(E(0),W([]))},className:`px-4 py-2 rounded-md transition-colors ${y?"bg-red-600 text-white hover:bg-red-700":"bg-green-600 text-white hover:bg-green-700"}`,disabled:A!=="tensile",children:[y?"Stop":"Start"," Test"]})})]}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Temperature: ",g.temperature,"°C"]}),s.jsx("input",{type:"range",min:"-200",max:"1000",step:"10",value:g.temperature,onChange:t=>F(e=>({...e,temperature:Number(t.target.value)})),className:"w-full"})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Strain Rate: ",g.strainRate.toFixed(4)," /s"]}),s.jsx("input",{type:"range",min:"0.0001",max:"0.01",step:"0.0001",value:g.strainRate,onChange:t=>F(e=>({...e,strainRate:Number(t.target.value)})),className:"w-full"})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Max Strain: ",(g.maxStrain*100).toFixed(1),"%"]}),s.jsx("input",{type:"range",min:"0.01",max:"1.0",step:"0.01",value:g.maxStrain,onChange:t=>F(e=>({...e,maxStrain:Number(t.target.value)})),className:"w-full"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Crystal Structure"}),s.jsx("select",{value:p.name,onChange:t=>K(M.find(e=>e.name===t.target.value)||M[0]),className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-purple-500",children:M.map(t=>s.jsx("option",{value:t.name,children:t.name},t.name))})]})]})]}),s.jsxs("div",{className:"mb-6",children:[s.jsx("h3",{className:"text-lg font-semibold mb-3",children:"Material Properties"}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-4",children:[s.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3",children:[s.jsx("h4",{className:"font-medium text-blue-800 text-sm",children:"Young's Modulus"}),s.jsxs("p",{className:"text-lg font-bold text-blue-900",children:[x.youngsModulus," GPa"]})]}),s.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-3",children:[s.jsx("h4",{className:"font-medium text-green-800 text-sm",children:"Yield Strength"}),s.jsxs("p",{className:"text-lg font-bold text-green-900",children:[x.yieldStrength," MPa"]})]}),s.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-3",children:[s.jsx("h4",{className:"font-medium text-yellow-800 text-sm",children:"Ultimate Strength"}),s.jsxs("p",{className:"text-lg font-bold text-yellow-900",children:[x.ultimateStrength," MPa"]})]}),s.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3",children:[s.jsx("h4",{className:"font-medium text-red-800 text-sm",children:"Elongation"}),s.jsxs("p",{className:"text-lg font-bold text-red-900",children:[x.elongation,"%"]})]}),s.jsxs("div",{className:"bg-purple-50 border border-purple-200 rounded-lg p-3",children:[s.jsx("h4",{className:"font-medium text-purple-800 text-sm",children:"Density"}),s.jsxs("p",{className:"text-lg font-bold text-purple-900",children:[x.density," g/cm³"]})]}),s.jsxs("div",{className:"bg-indigo-50 border border-indigo-200 rounded-lg p-3",children:[s.jsx("h4",{className:"font-medium text-indigo-800 text-sm",children:"Poisson's Ratio"}),s.jsx("p",{className:"text-lg font-bold text-indigo-900",children:x.poissonRatio})]})]})]}),s.jsxs("div",{className:"mb-6",children:[s.jsxs("h3",{className:"text-lg font-semibold mb-3",children:["Calculated Properties at ",g.temperature,"°C"]}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-4",children:[s.jsxs("div",{className:"bg-orange-50 border border-orange-200 rounded-lg p-3",children:[s.jsx("h4",{className:"font-medium text-orange-800 text-sm",children:"Hardness"}),s.jsxs("p",{className:"text-lg font-bold text-orange-900",children:[P.hardness," HRC"]})]}),s.jsxs("div",{className:"bg-teal-50 border border-teal-200 rounded-lg p-3",children:[s.jsx("h4",{className:"font-medium text-teal-800 text-sm",children:"Toughness"}),s.jsxs("p",{className:"text-lg font-bold text-teal-900",children:[P.toughness," J/m²"]})]}),s.jsxs("div",{className:"bg-pink-50 border border-pink-200 rounded-lg p-3",children:[s.jsx("h4",{className:"font-medium text-pink-800 text-sm",children:"Fatigue Limit"}),s.jsxs("p",{className:"text-lg font-bold text-pink-900",children:[P.fatigue_limit," MPa"]})]}),s.jsxs("div",{className:"bg-cyan-50 border border-cyan-200 rounded-lg p-3",children:[s.jsx("h4",{className:"font-medium text-cyan-800 text-sm",children:"Thermal Expansion"}),s.jsxs("p",{className:"text-lg font-bold text-cyan-900",children:[P.thermal_expansion.toFixed(1)," µm/m/°C"]})]}),s.jsxs("div",{className:"bg-lime-50 border border-lime-200 rounded-lg p-3",children:[s.jsx("h4",{className:"font-medium text-lime-800 text-sm",children:"Thermal Conductivity"}),s.jsxs("p",{className:"text-lg font-bold text-lime-900",children:[P.thermal_conductivity," W/m·K"]})]}),s.jsxs("div",{className:"bg-rose-50 border border-rose-200 rounded-lg p-3",children:[s.jsx("h4",{className:"font-medium text-rose-800 text-sm",children:"Creep Rate"}),s.jsxs("p",{className:"text-lg font-bold text-rose-900",children:[P.creep_rate.toFixed(4)," %/hr"]})]})]})]}),s.jsxs("div",{className:"mb-6",children:[s.jsx("h3",{className:"text-lg font-semibold mb-3",children:T==="stress-strain"?"Stress-Strain Analysis":"Crystal Structure Analysis"}),s.jsx("div",{className:"bg-white rounded-lg border border-gray-300 p-4",children:T==="stress-strain"?s.jsx("canvas",{ref:R,className:"border border-gray-300 rounded-lg bg-white mx-auto block",style:{maxWidth:"100%",height:"auto"}}):s.jsx("canvas",{ref:w,className:"border border-gray-300 rounded-lg bg-white mx-auto block",style:{maxWidth:"100%",height:"auto"}})})]}),s.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"bg-purple-50 border border-purple-200 rounded-lg p-4",children:[s.jsx("h3",{className:"text-lg font-semibold mb-2 text-purple-800",children:"Materials Features"}),s.jsxs("ul",{className:"text-purple-700 space-y-1",children:[s.jsxs("li",{children:["• ",s.jsx("strong",{children:"Mechanical Testing"}),": Tensile, fatigue, creep, hardness"]}),s.jsxs("li",{children:["• ",s.jsx("strong",{children:"Crystal Structures"}),": FCC, BCC, HCP visualizations"]}),s.jsxs("li",{children:["• ",s.jsx("strong",{children:"Property Calculations"}),": Temperature-dependent properties"]}),s.jsxs("li",{children:["• ",s.jsx("strong",{children:"Comparative Analysis"}),": Multiple material overlays"]})]})]}),s.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[s.jsx("h3",{className:"text-lg font-semibold mb-2 text-blue-800",children:"Engineering Applications"}),s.jsxs("ul",{className:"text-blue-700 space-y-1",children:[s.jsxs("li",{children:["• ",s.jsx("strong",{children:"Material Selection"}),": Design optimization"]}),s.jsxs("li",{children:["• ",s.jsx("strong",{children:"Failure Analysis"}),": Fracture mechanics"]}),s.jsxs("li",{children:["• ",s.jsx("strong",{children:"Quality Control"}),": Manufacturing specifications"]}),s.jsxs("li",{children:["• ",s.jsx("strong",{children:"Research & Development"}),": New material characterization"]})]})]})]}),s.jsx("div",{className:"mt-6",children:s.jsx(ie,{to:"/examples/engineering",className:"inline-block px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors",children:"← Back to Examples"})})]})};export{re as component};
