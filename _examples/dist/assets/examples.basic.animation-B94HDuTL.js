import{r as o,j as e,H as I,I as S,J as T,K as O,M as B,L as P}from"./index-BqTI3VMm.js";const $=(x,a,u,l,g)=>{const f=3*a,v=3*(l-a)-f;return(((1-f-v)*x+v)*x+f)*x},U=function(){const[a,u]=o.useState(!1),[l,g]=o.useState(0),[f,v]=o.useState(0),c=o.useRef(),y=o.useRef(),i=o.useRef(!1);console.log("Animation: Component render",{isAnimating:a,progress:l,isAnimatingRef:i.current});const b=[{name:"Linear",fn:s=>s,color:"bg-gray-500"},{name:"Ease In",fn:I||(s=>s*s),color:"bg-red-500"},{name:"Ease Out",fn:S||(s=>1-(1-s)*(1-s)),color:"bg-blue-500"},{name:"Ease In Out",fn:T||(s=>s<.5?2*s*s:1-Math.pow(-2*s+2,2)/2),color:"bg-green-500"},{name:"Bounce Out",fn:O||(s=>s<1/2.75?7.5625*s*s:s<2/2.75?7.5625*(s-=1.5/2.75)*s+.75:s<2.5/2.75?7.5625*(s-=2.25/2.75)*s+.9375:7.5625*(s-=2.625/2.75)*s+.984375),color:"bg-purple-500"},{name:"Elastic Out",fn:B||(s=>s===0?0:s===1?1:Math.pow(2,-10*s)*Math.sin((s*10-.75)*(2*Math.PI)/3)+1),color:"bg-yellow-500"},{name:"Cubic Bezier",fn:s=>$(s,.68,-.55,.265),color:"bg-pink-500"}],w=o.useCallback(()=>{if(console.log("Animation: startAnimation called"),i.current){console.log("Animation: already running, ignoring start request");return}i.current=!0,u(!0),g(0),y.current=performance.now();const s=m=>{if(!i.current){console.log("Animation: stopped via ref check");return}if(!y.current){console.log("Animation: animate called but no startTime"),i.current=!1,u(!1);return}const n=m-y.current,t=Math.min(n/5e3,1);console.log("Animation: animate frame",{elapsed:n,t,progress:t}),g(t),t<1&&i.current?c.current=requestAnimationFrame(s):(console.log("Animation: animation complete"),i.current=!1,u(!1),setTimeout(()=>{console.log("Animation: resetting progress to 0"),g(0)},500))};console.log("Animation: requesting first animation frame"),c.current=requestAnimationFrame(s)},[]),E=o.useCallback(()=>{console.log("Animation: stopAnimation called"),i.current=!1,c.current&&(cancelAnimationFrame(c.current),c.current=void 0),u(!1),g(0)},[]);o.useEffect(()=>()=>{i.current=!1,c.current&&(cancelAnimationFrame(c.current),c.current=void 0)},[]);const k=({name:s,fn:m,color:n})=>{const r=m(l),t=r*100;return s==="Linear"&&console.log(`Linear: progress=${l.toFixed(3)}, eased=${r.toFixed(3)}, position=${t.toFixed(1)}%`),e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-4 mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold mb-3 text-gray-800",children:s}),e.jsxs("div",{className:"relative h-8 bg-gray-200 rounded-full overflow-hidden",children:[e.jsx("div",{className:`absolute top-0 left-0 h-full ${n} rounded-full`,style:{width:`${t}%`}}),e.jsx("div",{className:"absolute top-1/2 transform -translate-y-1/2 w-6 h-6 bg-white border-2 border-gray-400 rounded-full shadow-md",style:{left:`calc(${t}% - 12px)`}})]}),e.jsxs("div",{className:"mt-2 text-sm text-gray-600 font-mono",children:["Progress: ",l.toFixed(3)," → Eased: ",r.toFixed(3)," → Position: ",t.toFixed(1),"%"]})]})},C=()=>{const s=o.useRef(null);return o.useEffect(()=>{const m=s.current;if(!m)return;const n=m.getContext("2d");if(!n)return;const r=m.width,t=m.height;n.clearRect(0,0,r,t),n.strokeStyle="#e5e7eb",n.lineWidth=1;for(let d=0;d<=10;d++){const p=d/10*r,j=d/10*t;n.beginPath(),n.moveTo(p,0),n.lineTo(p,t),n.stroke(),n.beginPath(),n.moveTo(0,j),n.lineTo(r,j),n.stroke()}if(b.forEach((d,p)=>{const j=p*360/b.length;n.strokeStyle=`hsl(${j}, 70%, 50%)`,n.lineWidth=2,n.beginPath();for(let h=0;h<=r;h++){const F=h/r,R=d.fn(F),A=h,N=t-R*t;h===0?n.moveTo(A,N):n.lineTo(A,N)}n.stroke()}),l>0){n.strokeStyle="#dc2626",n.lineWidth=2,n.setLineDash([5,5]);const d=l*r;n.beginPath(),n.moveTo(d,0),n.lineTo(d,t),n.stroke(),n.setLineDash([])}},[l,b]),e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-4",children:[e.jsx("h3",{className:"text-lg font-semibold mb-3 text-gray-800",children:"Easing Curves Visualization"}),e.jsx("canvas",{ref:s,width:400,height:300,className:"border border-gray-300 rounded"}),e.jsx("div",{className:"mt-2 text-sm text-gray-600",children:"Time (x-axis) → Eased Value (y-axis)"})]})};return e.jsxs("div",{className:"container mx-auto px-4 py-8",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold mb-4",children:"Interactive Easing Functions Showcase"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"Compare 7 animation easing curves in real-time with visual progress bars and mathematical curve graphs."}),e.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:e.jsx("p",{className:"text-green-800",children:"⚡ This example showcases animation capabilities of the play.ts library"})})]}),e.jsx("div",{className:"mb-8",children:e.jsxs("div",{className:"flex items-center space-x-4 mb-6",children:[e.jsx("button",{type:"button",onClick:()=>{console.log("Animation: Button clicked, isAnimating =",a,"isAnimatingRef =",i.current);try{a||i.current?(console.log("Animation: Calling stopAnimation"),E()):(console.log("Animation: Calling startAnimation"),w())}catch(s){console.error("Animation: Error in button click handler:",s),i.current=!1,u(!1),g(0)}},className:`px-6 py-3 rounded-lg font-medium transition-all duration-200 shadow-md ${a?"bg-red-600 text-white hover:bg-red-700":"bg-blue-600 text-white hover:bg-blue-700"}`,children:a?"Stop Animation":"Start Animation"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:`w-3 h-3 rounded-full transition-colors duration-200 ${a?"bg-green-500 animate-pulse":"bg-gray-400"}`}),e.jsx("span",{className:"text-sm text-gray-600 font-medium",children:a?"Running":"Stopped"})]})]})}),e.jsxs("div",{className:"grid lg:grid-cols-2 gap-8",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-semibold mb-4 text-gray-800",children:"Easing Functions"}),b.map(s=>e.jsx(k,{...s},s.name))]}),e.jsxs("div",{children:[e.jsx(C,{}),e.jsxs("div",{className:"mt-6 bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:[e.jsx("h3",{className:"text-lg font-semibold mb-2 text-yellow-800",children:"Key Concepts Demonstrated"}),e.jsxs("ul",{className:"text-yellow-700 space-y-1",children:[e.jsxs("li",{children:["• ",e.jsx("strong",{children:"Linear Interpolation"}),": Constant rate of change"]}),e.jsxs("li",{children:["• ",e.jsx("strong",{children:"Ease In"}),": Slow start, fast finish"]}),e.jsxs("li",{children:["• ",e.jsx("strong",{children:"Ease Out"}),": Fast start, slow finish"]}),e.jsxs("li",{children:["• ",e.jsx("strong",{children:"Ease In Out"}),": Slow start and finish"]}),e.jsxs("li",{children:["• ",e.jsx("strong",{children:"Bounce"}),": Spring-like bouncing effect"]}),e.jsxs("li",{children:["• ",e.jsx("strong",{children:"Elastic"}),": Elastic snapback effect"]}),e.jsxs("li",{children:["• ",e.jsx("strong",{children:"Cubic Bézier"}),": Custom curve definition"]})]})]})]})]}),e.jsx("div",{className:"mt-8",children:e.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[e.jsx("h3",{className:"text-lg font-semibold mb-2 text-blue-800",children:"Usage Tips"}),e.jsxs("ul",{className:"text-blue-700 space-y-1",children:[e.jsxs("li",{children:["• Use ",e.jsx("strong",{children:"easeOut"})," for UI animations that feel responsive"]}),e.jsxs("li",{children:["• Use ",e.jsx("strong",{children:"easeIn"})," for elements leaving the screen"]}),e.jsxs("li",{children:["• Use ",e.jsx("strong",{children:"easeInOut"})," for looping animations"]}),e.jsxs("li",{children:["• Use ",e.jsx("strong",{children:"bounce"})," and ",e.jsx("strong",{children:"elastic"})," for playful effects"]}),e.jsxs("li",{children:["• Use ",e.jsx("strong",{children:"cubicBezier"})," for completely custom easing curves"]})]})]})}),e.jsx("div",{className:"mt-6",children:e.jsx(P,{to:"/examples/basic",className:"inline-block px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:"← Back to Examples"})})]})};export{U as component};
