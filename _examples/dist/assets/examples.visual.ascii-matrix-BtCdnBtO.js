import{r as n,j as e,l as p}from"./index-BqTI3VMm.js";const Q=function(){const F=n.useRef(null),C=n.useRef(0),b=n.useRef([]),[g,I]=n.useState(!0),[x,B]=n.useState(1),[j,z]=n.useState(.8),[v,P]=n.useState(20),[f,G]=n.useState("classic"),[s,T]=n.useState(16),[S,Y]=n.useState("japanese"),[w,L]=n.useState(!0),[R,H]=n.useState(!1),[m,O]=n.useState("down"),[M,W]=n.useState(!0),k=n.useRef({x:0,y:0}),o={japanese:"ã‚¢ã‚¤ã‚¦ã‚¨ã‚ªã‚«ã‚­ã‚¯ã‚±ã‚³ã‚µã‚·ã‚¹ã‚»ã‚½ã‚¿ãƒãƒ„ãƒ†ãƒˆãƒŠãƒ‹ãƒŒãƒãƒãƒãƒ’ãƒ•ãƒ˜ãƒ›ãƒãƒŸãƒ ãƒ¡ãƒ¢ãƒ¤ãƒ¦ãƒ¨ãƒ©ãƒªãƒ«ãƒ¬ãƒ­ãƒ¯ãƒ²ãƒ³0123456789",binary:"01",hex:"0123456789ABCDEF",alphanumeric:"ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789",symbols:"!@#$%^&*()_+-=[]{}|;:,.<>?",mixed:"ã‚¢ã‚¤ã‚¦ã‚¨ã‚ªã‚«ã‚­ã‚¯ã‚±ã‚³ã‚µã‚·ã‚¹ã‚»ã‚½ã‚¿ãƒãƒ„ãƒ†ãƒˆ0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ!@#$%^&*",cyrillic:"ĞĞ‘Ğ’Ğ“Ğ”Ğ•ĞĞ–Ğ—Ğ˜Ğ™ĞšĞ›ĞœĞĞĞŸĞ Ğ¡Ğ¢Ğ£Ğ¤Ğ¥Ğ¦Ğ§Ğ¨Ğ©ĞªĞ«Ğ¬Ğ­Ğ®Ğ¯0123456789",greek:"Î‘Î’Î“Î”Î•Î–Î—Î˜Î™ÎšÎ›ÎœÎÎÎŸÎ Î¡Î£Î¤Î¥Î¦Î§Î¨Î©0123456789"}[S],D={classic:{bg:"#000000",trail:"#00FF00",lead:"#FFFFFF"},blue:{bg:"#000011",trail:"#0088FF",lead:"#FFFFFF"},purple:{bg:"#100010",trail:"#8800FF",lead:"#FFFFFF"},amber:{bg:"#110800",trail:"#FFAA00",lead:"#FFFFFF"},red:{bg:"#110000",trail:"#FF4444",lead:"#FFFFFF"},cyan:{bg:"#001122",trail:"#00FFFF",lead:"#FFFFFF"},neon:{bg:"#000000",trail:"#FF00FF",lead:"#FFFF00"},terminal:{bg:"#001100",trail:"#33FF33",lead:"#AAFFAA"},ghost:{bg:"#0a0a0a",trail:"#666666",lead:"#FFFFFF"},rainbow:{bg:"#000000",trail:"#FF8800",lead:"#FFFFFF"}};n.useEffect(()=>{const t=F.current;if(!t)return;const l=t.getContext("2d");if(!l)return;const h=()=>{t.width=t.offsetWidth,t.height=t.offsetHeight,A()},A=()=>{const u=Math.floor(t.width/s),i=Math.floor(t.height/s);b.current=[];for(let a=0;a<u*j;a++){const E=m==="down"?1:m==="up"?-1:Math.random()<.5?1:-1,r=E===1?-Math.random()*i*s:t.height+Math.random()*i*s,d={x:Math.floor(Math.random()*u)*s,y:r,speed:p(.5,3,Math.random())*x,chars:[],length:Math.floor(p(10,v,Math.random())),leadChar:0,direction:E,glitchChance:Math.random()*.1,colorOffset:Math.random()*360};for(let c=0;c<d.length;c++)d.chars.push(o[Math.floor(Math.random()*o.length)]);b.current.push(d)}},y=u=>{if(!g)return;const i=D[f];w?(l.fillStyle=i.bg+"20",l.fillRect(0,0,t.width,t.height)):(l.fillStyle=i.bg,l.fillRect(0,0,t.width,t.height)),l.font=`${s}px "Courier New", monospace`,l.textBaseline="top",b.current.forEach(a=>{if(a.y+=a.speed*x*a.direction,a.direction===1?a.y>t.height+a.length*s:a.y<-a.length*s){a.y=a.direction===1?-a.length*s:t.height+a.length*s,a.x=Math.floor(Math.random()*Math.floor(t.width/s))*s,a.speed=p(.5,3,Math.random())*x;for(let r=0;r<a.chars.length;r++)a.chars[r]=o[Math.floor(Math.random()*o.length)]}if(M){const r=k.current.x,d=k.current.y,c=Math.sqrt((a.x-r)**2+(a.y-d)**2);c<100&&(a.speed*=1+(100-c)/200)}for(let r=0;r<a.chars.length;r++){const d=a.y-r*s*a.direction;if(d>-s&&d<t.height+s){let c=1,N=i.trail;r===0?(N=i.lead,c=1):c=Math.max(0,Math.min(1,1-r/a.length)),f==="rainbow"&&(N=`hsl(${(a.colorOffset+u*.05+r*30)%360}, 100%, 50%)`),R&&Math.random()<a.glitchChance&&(a.chars[r]=o[Math.floor(Math.random()*o.length)],c*=.5+Math.random()*.5),Math.random()<.05&&(a.chars[r]=o[Math.floor(Math.random()*o.length)]),l.fillStyle=f==="rainbow"?N:N+Math.floor(c*255).toString(16).padStart(2,"0"),l.fillText(a.chars[r],a.x,d)}}}),C.current=requestAnimationFrame(()=>y(Date.now()))};return h(),window.addEventListener("resize",h),g&&y(Date.now()),()=>{window.removeEventListener("resize",h),C.current&&cancelAnimationFrame(C.current)}},[g,x,j,v,f,s,S,w,R,m,M]);const X=t=>{const l=F.current;if(!l)return;const h=l.getBoundingClientRect(),A=t.clientX-h.left,y=t.clientY-h.top,u=m==="down"?1:m==="up"?-1:Math.random()<.5?1:-1,i={x:Math.floor(A/s)*s,y:y-Math.random()*200,speed:p(1,4,Math.random())*x,chars:[],length:Math.floor(p(15,30,Math.random())),leadChar:0,direction:u,glitchChance:Math.random()*.2,colorOffset:Math.random()*360};for(let a=0;a<i.length;a++)i.chars.push(o[Math.floor(Math.random()*o.length)]);b.current.push(i)},$=t=>{if(!M)return;const l=F.current;if(!l)return;const h=l.getBoundingClientRect();k.current={x:t.clientX-h.left,y:t.clientY-h.top}};return e.jsxs("div",{className:"flex flex-col h-screen bg-black",children:[e.jsxs("div",{className:"flex-shrink-0 bg-gray-900 p-4 border-b border-gray-700",children:[e.jsx("h1",{className:"text-2xl font-bold text-green-400 mb-4",children:"ğŸŒŠ ASCII Matrix Rain"}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-8 gap-4 text-sm mb-4",children:[e.jsxs("div",{className:"flex flex-col",children:[e.jsx("label",{className:"text-green-300 mb-2",children:"Animation"}),e.jsx("button",{onClick:()=>I(!g),className:`px-3 py-2 rounded font-medium transition-colors ${g?"bg-red-600 hover:bg-red-700 text-white":"bg-green-600 hover:bg-green-700 text-white"}`,children:g?"Pause":"Play"})]}),e.jsxs("div",{className:"flex flex-col",children:[e.jsxs("label",{className:"text-green-300 mb-2",children:["Speed: ",x.toFixed(1),"x"]}),e.jsx("input",{type:"range",min:"0.1",max:"3",step:"0.1",value:x,onChange:t=>B(Number.parseFloat(t.target.value)),className:"w-full"})]}),e.jsxs("div",{className:"flex flex-col",children:[e.jsxs("label",{className:"text-green-300 mb-2",children:["Density: ",Math.round(j*100),"%"]}),e.jsx("input",{type:"range",min:"0.1",max:"1",step:"0.1",value:j,onChange:t=>z(Number.parseFloat(t.target.value)),className:"w-full"})]}),e.jsxs("div",{className:"flex flex-col",children:[e.jsxs("label",{className:"text-green-300 mb-2",children:["Trail: ",v]}),e.jsx("input",{type:"range",min:"5",max:"40",step:"1",value:v,onChange:t=>P(Number.parseInt(t.target.value)),className:"w-full"})]}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("label",{className:"text-green-300 mb-2",children:"Color Scheme"}),e.jsxs("select",{value:f,onChange:t=>G(t.target.value),className:"px-2 py-1 bg-gray-800 text-green-300 rounded border border-gray-600",children:[e.jsx("option",{value:"classic",children:"Classic Green"}),e.jsx("option",{value:"blue",children:"Blue Matrix"}),e.jsx("option",{value:"purple",children:"Purple Rain"}),e.jsx("option",{value:"amber",children:"Amber Code"}),e.jsx("option",{value:"red",children:"Red Alert"}),e.jsx("option",{value:"cyan",children:"Cyan Wave"}),e.jsx("option",{value:"neon",children:"Neon Dreams"}),e.jsx("option",{value:"terminal",children:"Terminal"}),e.jsx("option",{value:"ghost",children:"Ghost Mode"}),e.jsx("option",{value:"rainbow",children:"Rainbow"})]})]}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("label",{className:"text-green-300 mb-2",children:"Characters"}),e.jsxs("select",{value:S,onChange:t=>Y(t.target.value),className:"px-2 py-1 bg-gray-800 text-green-300 rounded border border-gray-600",children:[e.jsx("option",{value:"japanese",children:"Japanese"}),e.jsx("option",{value:"binary",children:"Binary"}),e.jsx("option",{value:"hex",children:"Hexadecimal"}),e.jsx("option",{value:"alphanumeric",children:"Alphanumeric"}),e.jsx("option",{value:"symbols",children:"Symbols"}),e.jsx("option",{value:"mixed",children:"Mixed"}),e.jsx("option",{value:"cyrillic",children:"Cyrillic"}),e.jsx("option",{value:"greek",children:"Greek"})]})]}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("label",{className:"text-green-300 mb-2",children:"Direction"}),e.jsxs("select",{value:m,onChange:t=>O(t.target.value),className:"px-2 py-1 bg-gray-800 text-green-300 rounded border border-gray-600",children:[e.jsx("option",{value:"down",children:"Falling Down"}),e.jsx("option",{value:"up",children:"Rising Up"}),e.jsx("option",{value:"random",children:"Random"})]})]}),e.jsxs("div",{className:"flex flex-col",children:[e.jsxs("label",{className:"text-green-300 mb-2",children:["Font Size: ",s,"px"]}),e.jsx("input",{type:"range",min:"10",max:"24",step:"2",value:s,onChange:t=>T(Number.parseInt(t.target.value)),className:"w-full"})]}),e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsxs("label",{className:"flex items-center text-green-300 text-xs",children:[e.jsx("input",{type:"checkbox",checked:w,onChange:t=>L(t.target.checked),className:"mr-1"}),"Fade Effect"]}),e.jsxs("label",{className:"flex items-center text-green-300 text-xs",children:[e.jsx("input",{type:"checkbox",checked:R,onChange:t=>H(t.target.checked),className:"mr-1"}),"Glitch"]}),e.jsxs("label",{className:"flex items-center text-green-300 text-xs",children:[e.jsx("input",{type:"checkbox",checked:M,onChange:t=>W(t.target.checked),className:"mr-1"}),"Interactive"]})]})]}),e.jsxs("div",{className:"mt-4 text-green-400 text-sm",children:[e.jsxs("p",{children:["ğŸ’¡ ",e.jsx("strong",{children:"Click anywhere"})," to spawn new character streams!"]}),e.jsxs("p",{children:["ğŸ–±ï¸ ",e.jsx("strong",{children:"Move your mouse"})," in interactive mode to influence stream speed!"]}),e.jsxs("p",{children:["ğŸ¨ ",e.jsx("strong",{children:"Choose character sets"})," from Japanese, Binary, Hex, and more!"]}),e.jsx("p",{children:'Experience the iconic "digital rain" effect with advanced customization and interactive features'})]})]}),e.jsx("div",{className:"flex-1 relative",children:e.jsx("canvas",{ref:F,onClick:X,onMouseMove:$,className:"absolute inset-0 w-full h-full cursor-crosshair",style:{background:D[f].bg,maxWidth:"100%",height:"auto"}})})]})};export{Q as component};
