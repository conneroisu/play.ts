import{r as p,j as e,B as D}from"./index-BqTI3VMm.js";import{B as k}from"./button-B7yz3rPd.js";import{C as j,a as y,b as v,d as w,c as N}from"./card--FLQYnaa.js";import{S as b}from"./slider-nv5Y-SsR.js";const z=function(){const F=p.useRef(null),[s,f]=p.useState({width:2,depth:1.5,load:500,type:"strip"}),[x,W]=p.useState([{thickness:2,cohesion:15,friction:28,unitWeight:18,name:"Sand/Silt",color:"#D2B48C"},{thickness:3,cohesion:25,friction:22,unitWeight:19,name:"Clay",color:"#8B4513"},{thickness:5,cohesion:0,friction:35,unitWeight:20,name:"Dense Sand",color:"#DAA520"}]),[o,C]=p.useState({bearingCapacity:0,safetyFactor:0,settlement:0,status:"unknown"}),P=i=>{const t=i*Math.PI/180,a=Math.exp(Math.PI*Math.tan(t))*Math.pow(Math.tan(Math.PI/4+t/2),2),n=(a-1)/Math.tan(t),c=2*(a-1)*Math.tan(t);return{Nc:n,Nq:a,Ny:c}},T=()=>{const i=S(s.depth),{Nc:t,Nq:a,Ny:n}=P(i.friction),c=s.type==="square"?{sc:1.3,sq:1.2,sy:.8}:{sc:1,sq:1,sy:1},r={dc:1+.4*(s.depth/s.width),dq:1+2*Math.tan(i.friction*Math.PI/180)*(1-Math.sin(i.friction*Math.PI/180))*(s.depth/s.width),dy:1};let l=0,d=0;for(const m of x)if(d+m.thickness<=s.depth)l+=m.thickness*m.unitWeight,d+=m.thickness;else if(d<s.depth){l+=(s.depth-d)*m.unitWeight;break}return i.cohesion*t*c.sc*r.dc+l*a*c.sq*r.dq+.5*i.unitWeight*s.width*n*c.sy*r.dy},S=i=>{let t=0;for(const a of x){if(t+a.thickness>i)return a;t+=a.thickness}return x[x.length-1]},q=()=>{const i=S(s.depth),t=s.load/(s.width*(s.type==="square"?s.width:1)),a=i.friction>30?5e4:2e4,n=.3,c=s.type==="square"?1.12:2;return t*s.width*c*(1-n*n)/a*1e3};p.useEffect(()=>{const i=T(),t=s.load/(s.width*(s.type==="square"?s.width:1)),a=i/t,n=q();let c;a>=3&&n<=25?c="safe":a>=2&&n<=50?c="warning":c="unsafe",C({bearingCapacity:i,safetyFactor:a,settlement:n,status:c})},[s,x]);const A=()=>{const i=F.current;if(!i)return;const t=i.getContext("2d");if(!t)return;t.clearRect(0,0,i.width,i.height);const a=50,n=50,c=50;let r=c;for(let m=0;m<x.length;m++){const u=x[m],g=u.thickness*a;t.fillStyle=u.color,t.fillRect(n,r,400,g),t.strokeStyle="#333",t.lineWidth=1,t.beginPath(),t.moveTo(n,r+g),t.lineTo(n+400,r+g),t.stroke(),t.fillStyle="#000",t.font="12px Arial",t.fillText(`${u.name} (φ=${u.friction}°, c=${u.cohesion}kPa)`,n+10,r+20),t.fillText(`γ=${u.unitWeight}kN/m³, t=${u.thickness}m`,n+10,r+35),r+=g}const l=c+s.depth*a,d=s.width*a,h=20;t.fillStyle="#666",t.fillRect(n+200-d/2,l-h,d,h),t.strokeStyle="#000",t.lineWidth=2,t.strokeRect(n+200-d/2,l-h,d,h),t.strokeStyle="#FF0000",t.lineWidth=3,t.beginPath(),t.moveTo(n+200,l-h-50),t.lineTo(n+200,l-h),t.stroke(),t.beginPath(),t.moveTo(n+200,l-h),t.lineTo(n+190,l-h-10),t.lineTo(n+210,l-h-10),t.closePath(),t.fillStyle="#FF0000",t.fill(),t.fillStyle="#FF0000",t.font="bold 14px Arial",t.fillText(`${s.load} kN`,n+210,l-h-25),t.strokeStyle="#000",t.lineWidth=1,t.setLineDash([5,5]),t.beginPath(),t.moveTo(n+200-d/2,l+10),t.lineTo(n+200+d/2,l+10),t.stroke(),t.fillStyle="#000",t.font="12px Arial",t.fillText(`B = ${s.width}m`,n+200-30,l+25),t.beginPath(),t.moveTo(n-30,c),t.lineTo(n-30,l),t.stroke(),t.fillText(`D = ${s.depth}m`,n-80,l-10),t.setLineDash([])};return p.useEffect(()=>{A()},[s,x]),e.jsxs("div",{className:"container mx-auto px-4 py-8",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Geotechnical Foundation Design"}),e.jsx("p",{className:"text-gray-600",children:"Calculate bearing capacity, safety factors, and settlement for shallow foundations using Terzaghi's bearing capacity theory."})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(j,{children:[e.jsxs(y,{children:[e.jsx(v,{children:"Soil Profile & Foundation"}),e.jsx(w,{children:"Cross-section showing soil layers and foundation geometry"})]}),e.jsx(N,{children:e.jsx("canvas",{ref:F,width:500,height:600,className:"border rounded max-w-full"})})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs(j,{children:[e.jsx(y,{children:e.jsx(v,{children:"Foundation Parameters"})}),e.jsxs(N,{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Foundation Type"}),e.jsxs("div",{className:"flex space-x-2 mt-1",children:[e.jsx(k,{variant:s.type==="strip"?"default":"outline",size:"sm",onClick:()=>f({...s,type:"strip"}),children:"Strip Footing"}),e.jsx(k,{variant:s.type==="square"?"default":"outline",size:"sm",onClick:()=>f({...s,type:"square"}),children:"Square Footing"})]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"text-sm font-medium",children:["Width (B): ",s.width," m"]}),e.jsx(b,{value:[s.width],onValueChange:([i])=>f({...s,width:i}),min:.5,max:5,step:.1,className:"mt-2"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"text-sm font-medium",children:["Depth (D): ",s.depth," m"]}),e.jsx(b,{value:[s.depth],onValueChange:([i])=>f({...s,depth:i}),min:.5,max:4,step:.1,className:"mt-2"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"text-sm font-medium",children:["Applied Load: ",s.load," kN"]}),e.jsx(b,{value:[s.load],onValueChange:([i])=>f({...s,load:i}),min:100,max:2e3,step:50,className:"mt-2"})]})]})]}),e.jsxs(j,{children:[e.jsxs(y,{children:[e.jsx(v,{children:"Design Results"}),e.jsx("div",{className:"flex items-center space-x-2",children:e.jsx(D,{variant:o.status==="safe"?"default":o.status==="warning"?"secondary":"destructive",children:o.status==="safe"?"SAFE":o.status==="warning"?"CAUTION":"UNSAFE"})})]}),e.jsxs(N,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"text-center p-3 bg-blue-50 rounded",children:[e.jsx("div",{className:"text-2xl font-bold text-blue-600",children:o.bearingCapacity.toFixed(0)}),e.jsx("div",{className:"text-sm text-gray-600",children:"Ultimate Bearing Capacity (kPa)"})]}),e.jsxs("div",{className:"text-center p-3 bg-green-50 rounded",children:[e.jsx("div",{className:"text-2xl font-bold text-green-600",children:o.safetyFactor.toFixed(1)}),e.jsx("div",{className:"text-sm text-gray-600",children:"Safety Factor"})]}),e.jsxs("div",{className:"text-center p-3 bg-orange-50 rounded",children:[e.jsx("div",{className:"text-2xl font-bold text-orange-600",children:o.settlement.toFixed(1)}),e.jsx("div",{className:"text-sm text-gray-600",children:"Settlement (mm)"})]}),e.jsxs("div",{className:"text-center p-3 bg-purple-50 rounded",children:[e.jsx("div",{className:"text-2xl font-bold text-purple-600",children:(s.load/(s.width*(s.type==="square"?s.width:1))).toFixed(0)}),e.jsx("div",{className:"text-sm text-gray-600",children:"Applied Pressure (kPa)"})]})]}),e.jsxs("div",{className:"text-sm space-y-2",children:[e.jsx("h4",{className:"font-semibold",children:"Design Criteria:"}),e.jsxs("div",{className:"grid grid-cols-1 gap-1 text-xs",children:[e.jsxs("div",{className:`flex justify-between ${o.safetyFactor>=3?"text-green-600":o.safetyFactor>=2?"text-orange-600":"text-red-600"}`,children:[e.jsx("span",{children:"Safety Factor:"}),e.jsx("span",{children:o.safetyFactor>=3?"✓ ≥ 3.0":o.safetyFactor>=2?"⚠ ≥ 2.0":"✗ < 2.0"})]}),e.jsxs("div",{className:`flex justify-between ${o.settlement<=25?"text-green-600":o.settlement<=50?"text-orange-600":"text-red-600"}`,children:[e.jsx("span",{children:"Settlement:"}),e.jsx("span",{children:o.settlement<=25?"✓ ≤ 25mm":o.settlement<=50?"⚠ ≤ 50mm":"✗ > 50mm"})]})]})]})]})]}),e.jsxs(j,{children:[e.jsxs(y,{children:[e.jsx(v,{children:"Soil Properties"}),e.jsx(w,{children:"Layered soil profile parameters"})]}),e.jsx(N,{children:e.jsx("div",{className:"space-y-3",children:x.map((i,t)=>e.jsxs("div",{className:"p-3 border rounded",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[e.jsx("div",{className:"w-4 h-4 rounded",style:{backgroundColor:i.color}}),e.jsx("span",{className:"font-medium",children:i.name})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[e.jsxs("div",{children:["φ = ",i.friction,"°"]}),e.jsxs("div",{children:["c = ",i.cohesion," kPa"]}),e.jsxs("div",{children:["γ = ",i.unitWeight," kN/m³"]}),e.jsxs("div",{children:["t = ",i.thickness," m"]})]})]},t))})})]})]})]}),e.jsxs("div",{className:"mt-8 p-4 bg-gray-50 rounded-lg",children:[e.jsx("h3",{className:"font-semibold mb-2",children:"Engineering Applications:"}),e.jsxs("ul",{className:"text-sm space-y-1 list-disc list-inside",children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Foundation Design:"})," Size foundations for buildings, bridges, and industrial structures"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Safety Assessment:"})," Verify bearing capacity and settlement limits per building codes"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Soil Investigation:"})," Analyze geotechnical data and optimize foundation types"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Cost Optimization:"})," Balance foundation size against soil improvement costs"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Risk Analysis:"})," Evaluate foundation performance under various load conditions"]})]})]})]})};export{z as component};
