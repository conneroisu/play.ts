import{r as g,j as s,L as ae,T,h as N,t as F,e as oe,s as j,P as S,k as C}from"./index-BqTI3VMm.js";const ce=function(){const M=g.useRef(null),k=g.useRef(),E=g.useRef(0),[b,Y]=g.useState([]),[P,W]=g.useState(!1),[o,x]=g.useState({simulationType:"particle_in_box",energyLevel:1,timeEvolution:!0,showProbability:!0,showWaveFunction:!0,showNodes:!1,animationSpeed:1,uncertainty:.1,measurement:!1,colorMode:"phase"}),[A,q]=g.useState(null),[z,H]=g.useState(0),$=(t,e)=>({real:t.real+e.real,imag:t.imag+e.imag}),B=(t,e)=>({real:t.real*e.real-t.imag*e.imag,imag:t.real*e.imag+t.imag*e.real}),v=t=>t.real*t.real+t.imag*t.imag,Q=t=>Math.atan2(t.imag,t.real),_=(t,e,l)=>{const d=[],n=[],a=[];for(let r=0;r<l;r++){const c=r/(l-1)*e;a.push(c);const m=Math.sqrt(2/e)*j(t*S*c/e),i=0,u={real:m*C(i),imag:m*j(i)};d.push(u),n.push(v(u))}return{amplitude:d,probability:n,position:a,energy:t*t*S*S/(2*e*e),nodes:t-1}},V=(t,e)=>{const l=[],d=[],n=[],r=[[1],[2,0],[4,0,-2],[8,0,-12,0],[16,0,-48,0,12]];for(let c=0;c<e;c++){const m=(c/(e-1)-.5)*8;n.push(m);const i=Math.exp(-m*m/2);let u=0;const h=r[Math.min(t,r.length-1)];for(let y=0;y<h.length;y++)u+=h[y]*Math.pow(m,y);const w={real:Math.pow(S,-.25)/Math.sqrt(Math.pow(2,t)*R(t))*u*i,imag:0};l.push(w),d.push(v(w))}return{amplitude:l,probability:d,position:n,energy:(t+.5)*1,nodes:t}},X=(t,e,l)=>{const d=[],n=[],a=[];for(let c=0;c<l;c++){const m=c/(l-1)*20;a.push(m);let i=0;t===1&&e===0?i=2*Math.exp(-m)*Math.pow(m,0):t===2&&e===0?i=1/Math.sqrt(8)*(2-m)*Math.exp(-m/2):t===2&&e===1?i=1/Math.sqrt(24)*m*Math.exp(-m/2):t===3&&e===0?i=2/Math.sqrt(27)*(3-2*m+2*m*m/9)*Math.exp(-m/3):i=Math.exp(-m/t)*Math.pow(m,e);const u={real:i,imag:0};d.push(u),n.push(v(u))}return{amplitude:d,probability:n,position:a,energy:-13.6/(t*t),nodes:t-e-1}},G=(t,e)=>{const l=[],d=[],n=[],i=T/1;for(let u=0;u<t;u++){const h=(u/(t-1)-.5)*10;n.push(h);const p=Math.sqrt((h- -1)*(h- -1)+25),f=Math.sqrt((h-1)*(h-1)+25),w=i*p-o.animationSpeed*e,y=i*f-o.animationSpeed*e,ie={real:C(w)/p,imag:j(w)/p},ne={real:C(y)/f,imag:j(y)/f},O=$(ie,ne);l.push(O),d.push(v(O))}return{amplitude:l,probability:d,position:n,energy:0,nodes:0}},R=t=>t<=1?1:t*R(t-1),J=(t,e,l=0)=>{let n;switch(t){case"particle_in_box":n=_(e,10,500);break;case"harmonic_oscillator":n=V(e-1,500);break;case"hydrogen_atom":n=X(e,l,500);break;case"double_slit":n=G(500,E.current);break;default:n=_(e,10,500)}return{n:e,l,m:0,waveFunction:n,color:N(e*60%360,70,60)}},K=(t,e)=>{if(!o.timeEvolution)return t;const l=t.waveFunction.amplitude.map(n=>{const a=-t.waveFunction.energy*e*o.animationSpeed,r={real:C(a),imag:j(a)};return B(n,r)}),d=l.map(n=>v(n));return{...t,waveFunction:{...t.waveFunction,amplitude:l,probability:d}}},U=(t,e,l)=>{const d=t.waveFunction.amplitude[e];switch(o.colorMode){case"phase":{const a=(Q(d)+S)/T*360;return F(N(a,80,60))}case"probability":{const n=t.waveFunction.probability[e],a=Math.max(...t.waveFunction.probability),r=n/a;return F(N(240+r*120,80,30+r*50))}case"energy":{const n=oe((t.waveFunction.energy+20)*10,0,360);return F(N(n,70,50))}case"quantum_numbers":{const n=(t.n*60+t.l*120)%360;return F(N(n,80,60))}default:return"#4A90E2"}},Z=t=>{if(b.length===0)return;const e=b[0],l=e.waveFunction.position,d=e.waveFunction.probability;let n=0,a=Math.abs(l[0]-t);for(let r=1;r<l.length;r++){const c=Math.abs(l[r]-t);c<a&&(a=c,n=r)}q(t),H(d[n]),x(r=>({...r,measurement:!0})),setTimeout(()=>{x(r=>({...r,measurement:!1})),q(null)},2e3)},L=()=>{const t=M.current,e=t==null?void 0:t.getContext("2d");if(!t||!e||b.length===0)return;e.clearRect(0,0,t.width,t.height);const l=e.createLinearGradient(0,0,t.width,t.height);l.addColorStop(0,"#0a0a1a"),l.addColorStop(.5,"#1a1a3a"),l.addColorStop(1,"#2a1a3a"),e.fillStyle=l,e.fillRect(0,0,t.width,t.height);const d=E.current,n=K(b[0],d),{waveFunction:a}=n,r=(t.width-100)/(a.position.length-1),c=t.height/2,m=(t.height-100)/4;if(e.strokeStyle="rgba(255, 255, 255, 0.3)",e.lineWidth=1,e.beginPath(),e.moveTo(50,c),e.lineTo(t.width-50,c),e.moveTo(50,50),e.lineTo(50,t.height-50),e.stroke(),o.showProbability){e.fillStyle="rgba(100, 255, 100, 0.3)",e.beginPath(),e.moveTo(50,c);for(let i=0;i<a.probability.length;i++){const u=50+i*r,h=a.probability[i],p=Math.max(...a.probability),f=c-h/p*m;i===0?e.moveTo(u,f):e.lineTo(u,f)}e.lineTo(t.width-50,c),e.closePath(),e.fill()}if(o.showWaveFunction){e.strokeStyle="rgba(100, 150, 255, 0.8)",e.lineWidth=2,e.beginPath();for(let i=0;i<a.amplitude.length;i++){const u=50+i*r,h=a.amplitude[i].real,p=c-h*m;i===0?e.moveTo(u,p):e.lineTo(u,p)}e.stroke(),e.strokeStyle="rgba(255, 100, 150, 0.8)",e.lineWidth=2,e.beginPath();for(let i=0;i<a.amplitude.length;i++){const u=50+i*r,h=a.amplitude[i].imag,p=c-h*m;i===0?e.moveTo(u,p):e.lineTo(u,p)}e.stroke()}if(o.colorMode==="phase")for(let i=0;i<a.amplitude.length;i+=5){const u=50+i*r;Q(a.amplitude[i]);const h=v(a.amplitude[i]);h>.01&&(e.fillStyle=U(n,i),e.globalAlpha=h*2,e.beginPath(),e.arc(u,c,3,0,T),e.fill(),e.globalAlpha=1)}if(o.showNodes&&a.nodes>0){e.strokeStyle="rgba(255, 255, 0, 0.8)",e.lineWidth=2;for(let i=1;i<a.amplitude.length;i++){const u=a.amplitude[i-1].real,h=a.amplitude[i].real;if(u>0&&h<0||u<0&&h>0){const p=50+i*r;e.beginPath(),e.moveTo(p,c-m),e.lineTo(p,c+m),e.stroke()}}}if(o.measurement&&A!==null){const i=50+A/a.position[a.position.length-1]*(t.width-100);e.strokeStyle="rgba(255, 255, 255, 0.8)",e.lineWidth=3,e.setLineDash([5,5]),e.beginPath(),e.moveTo(i,50),e.lineTo(i,t.height-50),e.stroke(),e.setLineDash([]);const u=j(d*10)*20+30;e.strokeStyle="rgba(255, 255, 255, 0.5)",e.lineWidth=2,e.beginPath(),e.arc(i,c,u,0,T),e.stroke()}if(e.fillStyle="rgba(0, 0, 0, 0.7)",e.fillRect(10,10,280,120),e.fillStyle="#ffffff",e.font="14px Arial",e.textAlign="left",e.fillText(`Quantum System: ${o.simulationType.replace("_"," ")}`,20,30),e.fillText(`Energy Level: n = ${n.n}`,20,50),e.fillText(`Energy: ${n.waveFunction.energy.toFixed(3)} eV`,20,70),e.fillText(`Nodes: ${n.waveFunction.nodes}`,20,90),A!==null&&e.fillText(`Measurement: P = ${z.toFixed(4)}`,20,110),o.uncertainty>0){const i=50+o.uncertainty*(t.width-100);e.fillStyle="rgba(255, 100, 100, 0.3)",e.fillRect(i-20,c-50,40,100),e.fillStyle="#ffffff",e.font="12px Arial",e.textAlign="center",e.fillText("Δx",i,c+70)}},I=()=>{E.current+=.02,L(),P&&(k.current=requestAnimationFrame(I))},ee=()=>{W(!0),k.current=requestAnimationFrame(I)},te=()=>{W(!1),k.current&&cancelAnimationFrame(k.current)},D=()=>{const t=J(o.simulationType,o.energyLevel);Y([t])},se=t=>{if(!o.measurement)return;const e=M.current;if(!e)return;const l=e.getBoundingClientRect(),n=(t.clientX-l.left-50)/(e.width-100);if(b.length>0){const a=b[0].waveFunction.position[b[0].waveFunction.position.length-1];Z(n*a)}};return g.useEffect(()=>{const t=M.current;t&&(t.width=900,t.height=600,D())},[]),g.useEffect(()=>{D()},[o.simulationType,o.energyLevel]),g.useEffect(()=>{P||L()},[b,o.showProbability,o.showWaveFunction,o.showNodes,o.colorMode]),s.jsxs("div",{className:"container mx-auto px-4 py-8",children:[s.jsxs("div",{className:"mb-8",children:[s.jsx("h1",{className:"text-3xl font-bold mb-4",children:"Quantum Mechanics Simulation"}),s.jsx("p",{className:"text-gray-600 mb-4",children:"Interactive quantum mechanics visualization with wave functions, probability distributions, and measurement effects."}),s.jsx("div",{className:"bg-violet-50 border border-violet-200 rounded-lg p-4",children:s.jsx("p",{className:"text-violet-800",children:"⚛️ Explore quantum states, wave-particle duality, uncertainty principle, and measurement collapse"})})]}),s.jsxs("div",{className:"mb-6",children:[s.jsxs("div",{className:"flex flex-wrap gap-4 mb-4",children:[s.jsx("button",{type:"button",onClick:ee,disabled:P,className:"px-4 py-2 bg-violet-600 text-white rounded-md hover:bg-violet-700 disabled:opacity-50 transition-colors",children:"Start Simulation"}),s.jsx("button",{type:"button",onClick:te,disabled:!P,className:"px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700 disabled:opacity-50 transition-colors",children:"Stop Simulation"}),s.jsx("button",{type:"button",onClick:()=>x(t=>({...t,measurement:!t.measurement})),className:`px-4 py-2 rounded-md transition-colors ${o.measurement?"bg-yellow-600 text-white hover:bg-yellow-700":"bg-gray-600 text-white hover:bg-gray-700"}`,children:o.measurement?"Measurement Mode ON":"Enable Measurement"})]}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Quantum System"}),s.jsxs("select",{value:o.simulationType,onChange:t=>x(e=>({...e,simulationType:t.target.value})),className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-violet-500",children:[s.jsx("option",{value:"particle_in_box",children:"Particle in Box"}),s.jsx("option",{value:"harmonic_oscillator",children:"Harmonic Oscillator"}),s.jsx("option",{value:"hydrogen_atom",children:"Hydrogen Atom"}),s.jsx("option",{value:"double_slit",children:"Double Slit"})]})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Energy Level: n = ",o.energyLevel]}),s.jsx("input",{type:"range",min:"1",max:"5",value:o.energyLevel,onChange:t=>x(e=>({...e,energyLevel:Number(t.target.value)})),className:"w-full"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Color Mode"}),s.jsxs("select",{value:o.colorMode,onChange:t=>x(e=>({...e,colorMode:t.target.value})),className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-violet-500",children:[s.jsx("option",{value:"phase",children:"Phase"}),s.jsx("option",{value:"probability",children:"Probability"}),s.jsx("option",{value:"energy",children:"Energy"}),s.jsx("option",{value:"quantum_numbers",children:"Quantum Numbers"})]})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Animation Speed: ",o.animationSpeed.toFixed(1)]}),s.jsx("input",{type:"range",min:"0.1",max:"3",step:"0.1",value:o.animationSpeed,onChange:t=>x(e=>({...e,animationSpeed:Number(t.target.value)})),className:"w-full"})]})]}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-4",children:[s.jsxs("label",{className:"flex items-center",children:[s.jsx("input",{type:"checkbox",checked:o.timeEvolution,onChange:t=>x(e=>({...e,timeEvolution:t.target.checked})),className:"mr-2"}),s.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Time Evolution"})]}),s.jsxs("label",{className:"flex items-center",children:[s.jsx("input",{type:"checkbox",checked:o.showProbability,onChange:t=>x(e=>({...e,showProbability:t.target.checked})),className:"mr-2"}),s.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Show Probability"})]}),s.jsxs("label",{className:"flex items-center",children:[s.jsx("input",{type:"checkbox",checked:o.showWaveFunction,onChange:t=>x(e=>({...e,showWaveFunction:t.target.checked})),className:"mr-2"}),s.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Show Wave Function"})]}),s.jsxs("label",{className:"flex items-center",children:[s.jsx("input",{type:"checkbox",checked:o.showNodes,onChange:t=>x(e=>({...e,showNodes:t.target.checked})),className:"mr-2"}),s.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Show Nodes"})]})]})]}),s.jsxs("div",{className:"mb-6",children:[s.jsx("canvas",{ref:M,className:"border border-gray-300 rounded-lg bg-gradient-to-br from-purple-900 via-blue-900 to-indigo-900 cursor-crosshair",style:{maxWidth:"100%",height:"auto"},onClick:se}),s.jsx("p",{className:"text-sm text-gray-500 mt-2",children:o.measurement?"Click to perform quantum measurement":"Quantum wave function visualization"})]}),s.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"bg-purple-50 border border-purple-200 rounded-lg p-4",children:[s.jsx("h3",{className:"text-lg font-semibold mb-2 text-purple-800",children:"Quantum Concepts"}),s.jsxs("ul",{className:"text-purple-700 space-y-1",children:[s.jsxs("li",{children:["• ",s.jsx("strong",{children:"Wave-Particle Duality"}),": Matter exhibits both wave and particle properties"]}),s.jsxs("li",{children:["• ",s.jsx("strong",{children:"Probability Density"}),": |ψ|² gives probability of finding particle"]}),s.jsxs("li",{children:["• ",s.jsx("strong",{children:"Quantized Energy"}),": Only discrete energy levels allowed"]}),s.jsxs("li",{children:["• ",s.jsx("strong",{children:"Measurement Collapse"}),": Observation changes quantum state"]})]})]}),s.jsxs("div",{className:"bg-violet-50 border border-violet-200 rounded-lg p-4",children:[s.jsx("h3",{className:"text-lg font-semibold mb-2 text-violet-800",children:"Simulation Features"}),s.jsxs("ul",{className:"text-violet-700 space-y-1",children:[s.jsxs("li",{children:["• ",s.jsx("strong",{children:"Multiple Systems"}),": Box, oscillator, hydrogen, double-slit"]}),s.jsxs("li",{children:["• ",s.jsx("strong",{children:"Time Evolution"}),": Watch quantum states evolve"]}),s.jsxs("li",{children:["• ",s.jsx("strong",{children:"Interactive Measurement"}),": Click to collapse wave function"]}),s.jsxs("li",{children:["• ",s.jsx("strong",{children:"Phase Visualization"}),": Complex wave function representation"]})]})]})]}),s.jsxs("div",{className:"mt-6 bg-indigo-50 border border-indigo-200 rounded-lg p-4",children:[s.jsx("h3",{className:"text-lg font-semibold mb-2 text-indigo-800",children:"Applications"}),s.jsxs("div",{className:"grid md:grid-cols-3 gap-4 text-indigo-700",children:[s.jsxs("div",{children:[s.jsx("strong",{children:"Technology:"}),s.jsxs("ul",{className:"text-sm mt-1",children:[s.jsx("li",{children:"• Quantum computing"}),s.jsx("li",{children:"• Laser technology"}),s.jsx("li",{children:"• Medical imaging (MRI)"})]})]}),s.jsxs("div",{children:[s.jsx("strong",{children:"Scientific Research:"}),s.jsxs("ul",{className:"text-sm mt-1",children:[s.jsx("li",{children:"• Atomic physics"}),s.jsx("li",{children:"• Materials science"}),s.jsx("li",{children:"• Quantum chemistry"})]})]}),s.jsxs("div",{children:[s.jsx("strong",{children:"Future Applications:"}),s.jsxs("ul",{className:"text-sm mt-1",children:[s.jsx("li",{children:"• Quantum cryptography"}),s.jsx("li",{children:"• Quantum sensors"}),s.jsx("li",{children:"• Quantum simulation"})]})]})]})]}),s.jsx("div",{className:"mt-6",children:s.jsx(ae,{to:"/examples/visual",className:"inline-block px-4 py-2 bg-violet-600 text-white rounded-lg hover:bg-violet-700 transition-colors",children:"← Back to Examples"})})]})};export{ce as component};
