import{r as h,s as S,P,j as t,T as w}from"./index-BqTI3VMm.js";const Y=function(){const A=h.useRef(null),I=h.useRef(null),C=h.useRef(),M=h.useRef(0),[y,V]=h.useState([{type:"solar",capacity:500,efficiency:22,cost:1200,output:850,co2Reduction:425,coordinates:{x:200,y:150},status:"active"},{type:"wind",capacity:800,efficiency:35,cost:1500,output:1400,co2Reduction:700,coordinates:{x:400,y:100},status:"active"},{type:"hydro",capacity:300,efficiency:85,cost:2e3,output:600,co2Reduction:300,coordinates:{x:600,y:200},status:"active"},{type:"geothermal",capacity:200,efficiency:75,cost:3e3,output:350,co2Reduction:175,coordinates:{x:300,y:300},status:"maintenance"}]),[p,X]=h.useState({type:"battery",capacity:2e3,chargeRate:500,efficiency:92,currentCharge:1200,cost:300}),[u,_]=h.useState({residential:800,commercial:600,industrial:1200,peak:3e3,baseLoad:1500,timeProfile:Array.from({length:24},(a,e)=>.6+.4*S((e-6)*P/12)+.2*S((e-18)*P/6))}),[d,k]=h.useState({solarIrradiance:800,windSpeed:8.5,temperature:25,humidity:65,cloudCover:30,season:"summer"}),[r,O]=h.useState(null),[b,R]=h.useState(12),[N,B]=h.useState(!1),[F,D]=h.useState("map"),T=a=>{let e=0;switch(a.type){case"solar":const m=d.solarIrradiance/1e3*(1-d.cloudCover/100)*S(Math.max(0,b-6)*P/12);e=a.capacity*(a.efficiency/100)*Math.max(0,m);break;case"wind":let f=0;d.windSpeed>=3&&d.windSpeed<=25&&(d.windSpeed<=12?f=Math.pow(d.windSpeed/12,3):f=1),e=a.capacity*f*(a.efficiency/100);break;case"hydro":const i=d.season==="spring"?1.2:d.season==="summer"?.8:d.season==="fall"?1:1.1;e=a.capacity*(a.efficiency/100)*i;break;case"geothermal":const x=1-(d.temperature-15)*.002;e=a.capacity*(a.efficiency/100)*x;break;case"biomass":e=a.capacity*(a.efficiency/100)*.8;break}return a.status==="active"?e:0},G=()=>{const a=y.reduce((l,g)=>l+T(g),0),e=(u.residential+u.commercial+u.industrial)*u.timeProfile[b],m=p.currentCharge/p.capacity*100,f=a-e,i=y.reduce((l,g)=>l+g.capacity,0),c=(y.reduce((l,g)=>l+g.cost*g.capacity,0)+p.cost*p.capacity)/(i*8760/1e3),v=y.reduce((l,g)=>l+g.co2Reduction,0),n=a/i*100,s=new Set(y.map(l=>l.type)).size,o=Math.min(100,s/5*40+m/100*30+n/100*30);return{totalGeneration:a,totalConsumption:e,storageLevel:m,gridBalance:f,costPerMWh:c,co2Savings:v,efficiency:n,reliabilityScore:o}},W=a=>({solar:"#FFD700",wind:"#87CEEB",hydro:"#4682B4",geothermal:"#CD853F",biomass:"#228B22"})[a],L=()=>{const a=A.current;if(!a)return;const e=a.getContext("2d");if(!e)return;const m=a.width,f=a.height;e.clearRect(0,0,m,f),e.strokeStyle="rgba(200, 200, 200, 0.3)",e.lineWidth=1;for(let s=0;s<=m;s+=50)e.beginPath(),e.moveTo(s,0),e.lineTo(s,f),e.stroke();for(let s=0;s<=f;s+=50)e.beginPath(),e.moveTo(0,s),e.lineTo(m,s),e.stroke();y.forEach(s=>{const o=s.coordinates.x,l=s.coordinates.y,g=T(s),j=20+g/s.capacity*30;if(e.fillStyle=W(s.type),e.globalAlpha=s.status==="active"?1:.5,e.beginPath(),e.arc(o,l,j,0,w),e.fill(),s.status==="maintenance"?(e.strokeStyle="#FFA500",e.lineWidth=3,e.beginPath(),e.arc(o,l,j+5,0,w),e.stroke()):s.status==="offline"&&(e.strokeStyle="#FF0000",e.lineWidth=3,e.beginPath(),e.arc(o,l,j+5,0,w),e.stroke()),N&&s.status==="active"){const E=M.current*.005,z=j+20+10*S(E+o*.01);e.strokeStyle=W(s.type),e.globalAlpha=.3+.3*S(E*2+l*.01),e.lineWidth=2,e.beginPath(),e.arc(o,l,z,0,w),e.stroke()}e.globalAlpha=1,e.fillStyle="black",e.font="12px Arial",e.textAlign="center",e.fillText(s.type.toUpperCase(),o,l-j-10),e.fillText(`${g.toFixed(0)} kW`,o,l+j+15)}),e.strokeStyle="#666",e.lineWidth=3,y.forEach((s,o)=>{if(o<y.length-1){const l=y[o+1];e.beginPath(),e.moveTo(s.coordinates.x,s.coordinates.y),e.lineTo(l.coordinates.x,l.coordinates.y),e.stroke()}});const i=100,x=250,c=30;e.fillStyle="#8A2BE2",e.fillRect(i-c/2,x-c/2,c,c);const v=p.currentCharge/p.capacity*c;e.fillStyle="#00FF00",e.fillRect(i-c/2+2,x+c/2-v-2,c-4,v),e.fillStyle="black",e.font="12px Arial",e.textAlign="center",e.fillText("STORAGE",i,x-c-10),e.fillText(`${(p.currentCharge/p.capacity*100).toFixed(0)}%`,i,x+c+15),[{name:"Residential",x:500,y:350,demand:u.residential},{name:"Commercial",x:600,y:320,demand:u.commercial},{name:"Industrial",x:550,y:280,demand:u.industrial}].forEach(s=>{const o=15+s.demand/1e3*10;e.fillStyle="#FF6B35",e.beginPath(),e.arc(s.x,s.y,o,0,w),e.fill(),e.fillStyle="black",e.font="10px Arial",e.textAlign="center",e.fillText(s.name,s.x,s.y-o-5),e.fillText(`${s.demand} kW`,s.x,s.y+o+12)})},$=()=>{const a=I.current;if(!a)return;const e=a.getContext("2d");if(!e)return;const m=a.width,f=a.height;e.clearRect(0,0,m,f);const i=40,x=m-2*i,c=f-2*i;e.strokeStyle="rgba(200, 200, 200, 0.5)",e.lineWidth=1;for(let n=0;n<=24;n+=6){const s=i+n/24*x;e.beginPath(),e.moveTo(s,i),e.lineTo(s,i+c),e.stroke()}for(let n=0;n<=4;n++){const s=i+n/4*c;e.beginPath(),e.moveTo(i,s),e.lineTo(i+x,s),e.stroke()}e.strokeStyle="#FF6B35",e.lineWidth=3,e.beginPath();for(let n=0;n<24;n++){const s=i+n/24*x,o=(u.residential+u.commercial+u.industrial)*u.timeProfile[n],l=i+c-o/3500*c;n===0?e.moveTo(s,l):e.lineTo(s,l)}e.stroke(),e.strokeStyle="#4CAF50",e.lineWidth=3,e.beginPath();for(let n=0;n<24;n++){const s=i+n/24*x,o=b;R(n);const l=y.reduce((j,E)=>j+T(E),0);R(o);const g=i+c-l/3500*c;n===0?e.moveTo(s,g):e.lineTo(s,g)}e.stroke();const v=i+b/24*x;e.strokeStyle="#2196F3",e.lineWidth=2,e.setLineDash([5,5]),e.beginPath(),e.moveTo(v,i),e.lineTo(v,i+c),e.stroke(),e.setLineDash([]),e.fillStyle="black",e.font="12px Arial",e.textAlign="center";for(let n=0;n<=24;n+=6){const s=i+n/24*x;e.fillText(`${n}:00`,s,f-10)}e.fillStyle="#FF6B35",e.fillRect(m-150,20,15,10),e.fillStyle="black",e.font="12px Arial",e.textAlign="left",e.fillText("Demand",m-130,30),e.fillStyle="#4CAF50",e.fillRect(m-150,40,15,10),e.fillText("Generation",m-130,50)},H=()=>{(F==="map"||F==="flow")&&L(),$(),N&&(M.current+=16)};return h.useEffect(()=>{const a=()=>{H(),C.current=requestAnimationFrame(a)};return C.current=requestAnimationFrame(a),()=>{C.current&&cancelAnimationFrame(C.current)}},[y,p,u,d,b,N,F]),h.useEffect(()=>{O(G())},[y,p,u,d,b]),t.jsx("div",{className:"w-full max-w-7xl mx-auto p-6 bg-gradient-to-br from-green-50 to-blue-50 min-h-screen",children:t.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 mb-6",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[t.jsx("div",{className:"w-3 h-3 bg-gradient-to-r from-green-500 to-blue-500 rounded-full"}),t.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Renewable Energy System Optimizer"}),t.jsx("div",{className:"text-sm text-gray-600 bg-gray-100 px-3 py-1 rounded-full",children:"Energy Engineering Tool"})]}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[t.jsxs("div",{className:"lg:col-span-2",children:[t.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 mb-4",children:[t.jsxs("div",{className:"flex gap-2 mb-4",children:[t.jsx("button",{onClick:()=>D("map"),className:`px-3 py-1 rounded text-sm ${F==="map"?"bg-green-500 text-white":"bg-gray-200"}`,children:"System Map"}),t.jsx("button",{onClick:()=>B(!N),className:`px-3 py-1 rounded text-sm ${N?"bg-blue-500 text-white":"bg-gray-200"}`,children:N?"Stop":"Simulate"}),t.jsxs("div",{className:"ml-auto text-sm text-gray-600",children:["Current Time: ",b,":00"]})]}),t.jsx("canvas",{ref:A,width:700,height:400,className:"border border-gray-300 rounded-lg bg-white w-full mb-4"}),t.jsx("canvas",{ref:I,width:700,height:200,className:"border border-gray-300 rounded-lg bg-white w-full"})]}),t.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[t.jsxs("div",{className:"bg-green-50 rounded-lg p-3 text-center",children:[t.jsxs("div",{className:"text-xl font-bold text-green-600",children:[r==null?void 0:r.totalGeneration.toFixed(0)," kW"]}),t.jsx("div",{className:"text-sm text-gray-600",children:"Generation"})]}),t.jsxs("div",{className:"bg-orange-50 rounded-lg p-3 text-center",children:[t.jsxs("div",{className:"text-xl font-bold text-orange-600",children:[r==null?void 0:r.totalConsumption.toFixed(0)," kW"]}),t.jsx("div",{className:"text-sm text-gray-600",children:"Demand"})]}),t.jsxs("div",{className:"bg-purple-50 rounded-lg p-3 text-center",children:[t.jsxs("div",{className:"text-xl font-bold text-purple-600",children:[r==null?void 0:r.storageLevel.toFixed(0),"%"]}),t.jsx("div",{className:"text-sm text-gray-600",children:"Storage"})]}),t.jsxs("div",{className:"bg-blue-50 rounded-lg p-3 text-center",children:[t.jsxs("div",{className:"text-xl font-bold text-blue-600",children:[r==null?void 0:r.efficiency.toFixed(0),"%"]}),t.jsx("div",{className:"text-sm text-gray-600",children:"Efficiency"})]})]})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-3",children:"Weather Conditions"}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Solar Irradiance: ",d.solarIrradiance," W/m²"]}),t.jsx("input",{type:"range",min:"0",max:"1200",step:"50",value:d.solarIrradiance,onChange:a=>k(e=>({...e,solarIrradiance:Number.parseInt(a.target.value)})),className:"w-full"})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Wind Speed: ",d.windSpeed.toFixed(1)," m/s"]}),t.jsx("input",{type:"range",min:"0",max:"30",step:"0.5",value:d.windSpeed,onChange:a=>k(e=>({...e,windSpeed:Number.parseFloat(a.target.value)})),className:"w-full"})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Cloud Cover: ",d.cloudCover,"%"]}),t.jsx("input",{type:"range",min:"0",max:"100",step:"5",value:d.cloudCover,onChange:a=>k(e=>({...e,cloudCover:Number.parseInt(a.target.value)})),className:"w-full"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Season"}),t.jsxs("select",{value:d.season,onChange:a=>k(e=>({...e,season:a.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",children:[t.jsx("option",{value:"spring",children:"Spring"}),t.jsx("option",{value:"summer",children:"Summer"}),t.jsx("option",{value:"fall",children:"Fall"}),t.jsx("option",{value:"winter",children:"Winter"})]})]})]})]}),t.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-3",children:"Time Control"}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Hour of Day: ",b,":00"]}),t.jsx("input",{type:"range",min:"0",max:"23",step:"1",value:b,onChange:a=>R(Number.parseInt(a.target.value)),className:"w-full"})]})]}),r&&t.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-3",children:"System Performance"}),t.jsxs("div",{className:"space-y-3 text-sm",children:[t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{children:"Grid Balance:"}),t.jsxs("span",{className:`font-mono ${r.gridBalance>=0?"text-green-600":"text-red-600"}`,children:[r.gridBalance>=0?"+":"",r.gridBalance.toFixed(0)," kW"]})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{children:"Cost per MWh:"}),t.jsxs("span",{className:"font-mono",children:["$",r.costPerMWh.toFixed(2)]})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{children:"CO₂ Savings:"}),t.jsxs("span",{className:"font-mono text-green-600",children:[r.co2Savings.toFixed(0)," tons/year"]})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{children:"Reliability Score:"}),t.jsxs("span",{className:"font-mono",children:[r.reliabilityScore.toFixed(0),"/100"]})]}),t.jsxs("div",{className:"mt-4 p-3 bg-white rounded border",children:[t.jsx("div",{className:"text-xs text-gray-600 mb-1",children:"System Status"}),t.jsx("div",{className:`text-sm font-semibold ${r.reliabilityScore>=80?"text-green-600":r.reliabilityScore>=60?"text-yellow-600":"text-red-600"}`,children:r.reliabilityScore>=80?"OPTIMAL":r.reliabilityScore>=60?"GOOD":"NEEDS OPTIMIZATION"})]})]})]}),t.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-3",children:"Energy Sources"}),t.jsx("div",{className:"space-y-2 text-sm",children:y.map(a=>t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:W(a.type)}}),t.jsx("span",{className:"capitalize",children:a.type})]}),t.jsxs("div",{className:"text-right",children:[t.jsxs("div",{children:[T(a).toFixed(0)," kW"]}),t.jsxs("div",{className:"text-xs text-gray-500",children:[a.capacity," kW max"]})]})]},a.type))})]})]})]}),t.jsxs("div",{className:"mt-6 bg-green-50 rounded-lg p-4",children:[t.jsx("h3",{className:"text-lg font-semibold text-green-800 mb-2",children:"Energy Engineering Applications"}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm text-green-700",children:[t.jsxs("div",{children:[t.jsx("strong",{children:"System Design & Planning:"}),t.jsxs("ul",{className:"mt-1 space-y-1",children:[t.jsx("li",{children:"• Renewable energy capacity planning"}),t.jsx("li",{children:"• Grid integration optimization"}),t.jsx("li",{children:"• Energy storage sizing"}),t.jsx("li",{children:"• Load forecasting and balancing"})]})]}),t.jsxs("div",{children:[t.jsx("strong",{children:"Performance & Economics:"}),t.jsxs("ul",{className:"mt-1 space-y-1",children:[t.jsx("li",{children:"• LCOE (Levelized Cost of Energy) analysis"}),t.jsx("li",{children:"• Carbon footprint assessment"}),t.jsx("li",{children:"• Weather impact modeling"}),t.jsx("li",{children:"• Grid stability analysis"})]})]})]})]})]})})};export{Y as component};
