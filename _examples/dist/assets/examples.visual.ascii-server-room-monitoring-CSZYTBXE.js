import{r as m,j as t,s as T,e as g,l as N,k as X}from"./index-BqTI3VMm.js";const ee=function(){const D=m.useRef(null),R=m.useRef(0),j=m.useRef(new Map),y=m.useRef([]),F=m.useRef([]),P=m.useRef([]),[b,H]=m.useState(!0),[S,z]=m.useState(1),[_,I]=m.useState("temperature"),[d,B]=m.useState("datacenter"),[M,W]=m.useState(75),[E,O]=m.useState(!0),[A,L]=m.useState(!0),[w,U]=m.useState(!1),h={datacenter:{bg:"#000011",text:"#00CCFF",hot:"#FF4444",cold:"#4444FF",warning:"#FFAA00",critical:"#FF0000",power:"#00FF88"},thermal:{bg:"#001100",text:"#FFFFFF",hot:"#FF0000",cold:"#0088FF",warning:"#FFFF00",critical:"#FF0080",power:"#00FF00"},industrial:{bg:"#111100",text:"#FFCC00",hot:"#FF6600",cold:"#0066FF",warning:"#FF8800",critical:"#CC0000",power:"#88FF00"},matrix:{bg:"#000000",text:"#00FF00",hot:"#FF4400",cold:"#0044FF",warning:"#AAFF00",critical:"#FF2200",power:"#44FF44"}};return m.useEffect(()=>{const n=new Map,i=[{name:"WEB-R01",x:5,y:5,height:4,type:"server"},{name:"WEB-R02",x:15,y:5,height:4,type:"server"},{name:"WEB-R03",x:25,y:5,height:4,type:"server"},{name:"WEB-R04",x:35,y:5,height:4,type:"server"},{name:"DB-R01",x:5,y:15,height:6,type:"storage"},{name:"DB-R02",x:15,y:15,height:6,type:"storage"},{name:"SAN-R01",x:25,y:15,height:6,type:"storage"},{name:"SAN-R02",x:35,y:15,height:6,type:"storage"},{name:"NET-R01",x:5,y:28,height:3,type:"switch"},{name:"NET-R02",x:15,y:28,height:3,type:"switch"},{name:"UPS-R01",x:25,y:28,height:5,type:"ups"},{name:"COOL-R01",x:35,y:28,height:5,type:"cooling"}];i.forEach(f=>{n.set(f.name,{id:f.name,name:f.name,x:f.x,y:f.y,height:f.height,temperature:20+Math.random()*15,power_draw:50+Math.random()*200,fan_speed:30+Math.random()*50,status:"online",cpu_usage:Math.random()*100,disk_activity:Math.random()*100,network_activity:Math.random()*100,alert_flash:0,type:f.type})}),j.current=n,y.current=[{id:"T01",x:10,y:2,temperature:22,humidity:45,airflow:2.5,type:"temp"},{id:"T02",x:30,y:2,temperature:24,humidity:48,airflow:2.8,type:"temp"},{id:"H01",x:10,y:12,temperature:26,humidity:52,airflow:3.1,type:"humidity"},{id:"H02",x:30,y:12,temperature:25,humidity:49,airflow:2.9,type:"humidity"},{id:"A01",x:10,y:25,temperature:23,humidity:46,airflow:4.2,type:"airflow"},{id:"A02",x:30,y:25,temperature:24,humidity:47,airflow:3.8,type:"airflow"}],F.current=[{id:"AC01",x:2,y:18,power:75,airflow_direction:0,efficiency:.85,status:"running"},{id:"AC02",x:42,y:18,power:68,airflow_direction:180,efficiency:.82,status:"running"}],P.current=i.map(f=>({rack_id:f.name,current_load:50+Math.random()*150,max_capacity:250,efficiency:.85+Math.random()*.1}))},[]),m.useEffect(()=>{const n=D.current;if(!n)return;const i=n.getContext("2d");if(!i)return;const f=()=>{n.width=n.offsetWidth,n.height=n.offsetHeight},Y=()=>{const a=Date.now()/1e3,l=j.current;l.forEach(e=>{let s=22;e.type==="server"?s=25+e.cpu_usage*.2:e.type==="storage"?s=28+e.disk_activity*.15:e.type==="switch"?s=30+e.network_activity*.1:e.type==="ups"?s=35+e.power_draw*.05:e.type==="cooling"&&(s=20);const u=3*T(a*.1+e.x*.1),c=e.cpu_usage*.1*T(a*.3+e.y*.1);e.temperature=g(s+u+c,15,85),e.type==="server"?(e.cpu_usage+=(Math.random()-.5)*5,e.disk_activity+=(Math.random()-.5)*8,e.network_activity+=(Math.random()-.5)*10):e.type==="storage"?(e.disk_activity+=(Math.random()-.5)*15,e.network_activity+=(Math.random()-.5)*5,e.cpu_usage+=(Math.random()-.5)*3):e.type==="switch"&&(e.network_activity+=(Math.random()-.5)*20,e.cpu_usage+=(Math.random()-.5)*8),e.cpu_usage=g(e.cpu_usage,0,100),e.disk_activity=g(e.disk_activity,0,100),e.network_activity=g(e.network_activity,0,100);const p=(e.cpu_usage+e.disk_activity+e.network_activity)/300;e.power_draw=g(50+p*200+(Math.random()-.5)*20,20,300),e.fan_speed=g(30+(e.temperature-20)*2+(Math.random()-.5)*10,0,100),w&&(e.fan_speed=Math.min(100,e.fan_speed*1.5)),e.temperature>65||e.power_draw>250?(e.status="critical",e.alert_flash=Math.max(e.alert_flash,15)):e.temperature>M||e.power_draw>200?(e.status="warning",e.alert_flash=Math.max(e.alert_flash,8)):e.status="online",e.alert_flash>0&&e.alert_flash--}),y.current.forEach((e,s)=>{const u=Array.from(l.values()).filter(r=>Math.abs(r.x-e.x)<15&&Math.abs(r.y-e.y)<10),c=u.reduce((r,o)=>r+o.temperature,0)/Math.max(u.length,1);e.temperature=N(e.temperature,c+(Math.random()-.5)*2,.1);const p=45+(e.temperature-22)*.5;e.humidity=N(e.humidity,p+(Math.random()-.5)*3,.1);const x=F.current.reduce((r,o)=>{const v=Math.sqrt((o.x-e.x)**2+(o.y-e.y)**2);return r+o.power/100*Math.max(0,1-v/30)},0);e.airflow=N(e.airflow,2+x+(Math.random()-.5)*.5,.1)}),F.current.forEach(e=>{const s=y.current.reduce((c,p)=>c+p.temperature,0)/y.current.length,u=w?95:g(50+(s-22)*5,40,90);e.power=N(e.power,u,.05),e.efficiency=g(.9-e.power/100*.1,.6,.95),e.airflow_direction+=.5*S}),P.current.forEach(e=>{const s=l.get(e.rack_id);s&&(e.current_load=s.power_draw,e.efficiency=g(e.efficiency+(Math.random()-.5)*.01,.75,.95))})},V=a=>{const e=a.x,s=a.y;let u=h[d].text;a.status==="critical"?u=h[d].critical:a.status==="warning"&&(u=h[d].warning),a.alert_flash>0&&a.alert_flash%6<3?i.fillStyle=a.status==="critical"?"#FF0000":"#FFAA00":i.fillStyle=u;let c=[];a.type==="server"?c=["┌─────────┐","│████ LED │","│████ LED │","│○○○○ FAN │","└─────────┘"]:a.type==="storage"?c=["┌─────────┐","│HDD HDD  │","│HDD HDD  │","│HDD HDD  │","│HDD HDD  │","│○○ POWER │","└─────────┘"]:a.type==="switch"?c=["┌─────────┐","│●●●●●●●● │","│●●●●●●●● │","└─────────┘"]:a.type==="ups"?c=["┌─────────┐","│ ≈≈≈≈≈≈ │","│ BATTERY │","│ BATTERY │","│ ⚡POWER │","└─────────┘"]:a.type==="cooling"&&(c=["┌─────────┐","│  ∘∘∘∘∘  │","│ ∘COOL∘  │","│  ∘∘∘∘∘  │","│ ~~AIR~~ │","└─────────┘"]),c.forEach((K,Q)=>{i.fillText(K,e*10,(s+Q)*10)}),i.fillStyle=h[d].text,i.fillText(a.name,e*10,(s-1)*10);const p=a.status==="online"?"●":a.status==="warning"?"▲":"✕";i.fillStyle=u,i.fillText(p,(e+11)*10,(s-1)*10);const x=s+a.height+1;let r=0,o="",v="";switch(_){case"temperature":r=a.temperature,o="°C",v="TEMP";break;case"power":r=a.power_draw,o="W",v="PWR";break;case"cpu":r=a.cpu_usage,o="%",v="CPU";break;case"fan":r=a.fan_speed,o="%",v="FAN";break}let C=h[d].text;_==="temperature"?r>60?C=h[d].hot:r<25&&(C=h[d].cold):r>M&&(C=h[d].warning),i.fillStyle=C,i.fillText(`${v}: ${r.toFixed(1)}${o}`,e*10,x*10)},q=()=>{if(!E)return;const a=10;y.current.forEach(l=>{let e="🌡️",s=l.temperature.toFixed(1)+"°C";l.type==="humidity"?(e="💧",s=l.humidity.toFixed(1)+"%"):l.type==="airflow"&&(e="🌪️",s=l.airflow.toFixed(1)+"m/s"),i.fillStyle=h[d].bg+"CC",i.fillRect((l.x-1)*a,(l.y-1)*a,4*a,2*a),i.fillStyle=h[d].text,i.fillText(`${e}${s}`,l.x*a,l.y*a)})},G=()=>{if(!A)return;const a=10,l=Date.now()/1e3;F.current.forEach(e=>{for(let s=0;s<8;s++){const u=e.airflow_direction+s*45,c=3+(l*2+s)%10,p=e.x+c*X(u*Math.PI/180),x=e.y+c*T(u*Math.PI/180);i.fillStyle=h[d].cold+"80",i.fillText("∘",p*a,x*a)}})},J=()=>{const a=Array.from(j.current.values()),l=a.reduce((r,o)=>r+o.temperature,0)/a.length,e=a.reduce((r,o)=>r+o.power_draw,0),s=a.filter(r=>r.status==="critical").length,u=a.filter(r=>r.status==="warning").length,c=y.current.reduce((r,o)=>r+o.humidity,0)/y.current.length,p=y.current.reduce((r,o)=>r+o.airflow,0)/y.current.length;i.fillStyle=h[d].text;const x=n.height-120;i.fillText("┌─ SERVER ROOM ENVIRONMENTAL DASHBOARD ─┐",10,x),i.fillText(`│ Temperature: ${l.toFixed(1)}°C | Humidity: ${c.toFixed(1)}% | Airflow: ${p.toFixed(1)}m/s`,10,x+15),i.fillText(`│ Total Power: ${e.toFixed(0)}W | Critical: ${s} | Warning: ${u}`,10,x+30),i.fillText(`│ Cooling Status: ${F.current.map(r=>r.status.toUpperCase()).join(", ")}`,10,x+45),i.fillText(`│ Emergency Mode: ${w?"ACTIVE":"STANDBY"} | Display: ${_.toUpperCase()}`,10,x+60),i.fillText("└────────────────────────────────────────┘",10,x+75)},$=()=>{if(!b)return;const a=h[d];i.fillStyle=a.bg,i.fillRect(0,0,n.width,n.height),i.font='10px "Courier New", monospace',i.textBaseline="top",Math.random()<.15*S&&Y(),G(),j.current.forEach(l=>{V(l)}),q(),J(),R.current=requestAnimationFrame($)};return f(),window.addEventListener("resize",f),b&&$(),()=>{window.removeEventListener("resize",f),R.current&&cancelAnimationFrame(R.current)}},[b,S,_,d,M,E,A,w]),t.jsxs("div",{className:"flex flex-col h-screen bg-black",children:[t.jsxs("div",{className:"flex-shrink-0 bg-gray-900 p-4 border-b border-gray-700",children:[t.jsx("h1",{className:"text-2xl font-bold text-blue-400 mb-4",children:"🏢 ASCII Server Room Environmental Monitoring"}),t.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-8 gap-4 text-sm mb-4",children:[t.jsxs("div",{className:"flex flex-col",children:[t.jsx("label",{className:"text-blue-300 mb-2",children:"Animation"}),t.jsx("button",{onClick:()=>H(!b),className:`px-3 py-2 rounded font-medium transition-colors ${b?"bg-red-600 hover:bg-red-700 text-white":"bg-green-600 hover:bg-green-700 text-white"}`,children:b?"Pause":"Play"})]}),t.jsxs("div",{className:"flex flex-col",children:[t.jsxs("label",{className:"text-blue-300 mb-2",children:["Speed: ",S.toFixed(1),"x"]}),t.jsx("input",{type:"range",min:"0.1",max:"3",step:"0.1",value:S,onChange:n=>z(Number.parseFloat(n.target.value)),className:"w-full"})]}),t.jsxs("div",{className:"flex flex-col",children:[t.jsxs("label",{className:"text-blue-300 mb-2",children:["Alert Threshold: ",M,"°C"]}),t.jsx("input",{type:"range",min:"50",max:"80",step:"5",value:M,onChange:n=>W(Number.parseInt(n.target.value)),className:"w-full"})]}),t.jsxs("div",{className:"flex flex-col",children:[t.jsx("label",{className:"text-blue-300 mb-2",children:"Display Mode"}),t.jsxs("select",{value:_,onChange:n=>I(n.target.value),className:"px-2 py-1 bg-gray-800 text-blue-300 rounded border border-gray-600",children:[t.jsx("option",{value:"temperature",children:"Temperature"}),t.jsx("option",{value:"power",children:"Power Draw"}),t.jsx("option",{value:"cpu",children:"CPU Usage"}),t.jsx("option",{value:"fan",children:"Fan Speed"})]})]}),t.jsxs("div",{className:"flex flex-col",children:[t.jsx("label",{className:"text-blue-300 mb-2",children:"Color Scheme"}),t.jsxs("select",{value:d,onChange:n=>B(n.target.value),className:"px-2 py-1 bg-gray-800 text-blue-300 rounded border border-gray-600",children:[t.jsx("option",{value:"datacenter",children:"Datacenter Blue"}),t.jsx("option",{value:"thermal",children:"Thermal View"}),t.jsx("option",{value:"industrial",children:"Industrial"}),t.jsx("option",{value:"matrix",children:"Matrix Green"})]})]}),t.jsxs("div",{className:"flex flex-col",children:[t.jsx("label",{className:"text-blue-300 mb-2",children:"Emergency Mode"}),t.jsx("button",{onClick:()=>U(!w),className:`px-3 py-2 rounded font-medium transition-colors ${w?"bg-red-600 hover:bg-red-700 text-white":"bg-gray-600 hover:bg-gray-700 text-white"}`,children:w?"EMERGENCY":"Normal"})]}),t.jsxs("div",{className:"flex flex-col gap-2",children:[t.jsxs("label",{className:"flex items-center text-blue-300 text-xs",children:[t.jsx("input",{type:"checkbox",checked:E,onChange:n=>O(n.target.checked),className:"mr-1"}),"Sensors"]}),t.jsxs("label",{className:"flex items-center text-blue-300 text-xs",children:[t.jsx("input",{type:"checkbox",checked:A,onChange:n=>L(n.target.checked),className:"mr-1"}),"Airflow"]})]})]}),t.jsxs("div",{className:"mt-4 text-blue-400 text-sm",children:[t.jsxs("p",{children:["🏢 ",t.jsx("strong",{children:"Real-time server room monitoring"})," with environmental sensors and thermal management!"]}),t.jsxs("p",{children:["🌡️ ",t.jsx("strong",{children:"Track temperature, humidity, and airflow"})," across different rack types and cooling systems!"]}),t.jsxs("p",{children:["⚠️ ",t.jsx("strong",{children:"Emergency cooling mode"})," automatically activates for critical temperature conditions!"]}),t.jsx("p",{children:"Monitor servers, storage, switches, UPS units, and cooling systems in a realistic datacenter layout"})]})]}),t.jsx("div",{className:"flex-1 relative",children:t.jsx("canvas",{ref:D,className:"absolute inset-0 w-full h-full",style:{background:h[d].bg}})})]})};export{ee as component};
