import{r as d,j as e,L as Z,T as y,k as u,s as w,P as h,R as _,U as J,e as T}from"./index-BqTI3VMm.js";const ee=function(){const B=d.useRef(null),M=d.useRef(null);d.useRef(null);const R=d.useRef(),[S,G]=d.useState("dipole"),[r,v]=d.useState({frequency:2400,wavelength:.125,elements:4,spacing:.25,feedImpedance:50,antennaGain:0,beamwidth:90,frontBackRatio:0,vswr:1,efficiency:95,showEField:!0,showHField:!1,show3DPattern:!1,animatePhase:!1}),[W,L]=d.useState([]),[A,D]=d.useState([]),[f,z]=d.useState({z0:50,length:.25,zl:{real:73,imag:42.5},frequency:2400}),[F,O]=d.useState({impedancePoints:[],matchingNetwork:[],currentPoint:{real:0,imag:0}}),[N,q]=d.useState({running:!1,time:0,phaseOffset:0});d.useEffect(()=>{const t=299792458/(r.frequency*1e6);v(n=>({...n,wavelength:t}))},[r.frequency]),d.useEffect(()=>{const a=[],t=r.wavelength;switch(S){case"dipole":a.push({x:0,y:0,length:t/2,current:{real:1,imag:0},phase:0});break;case"yagi":a.push({x:-t*.25,y:0,length:t*.51,current:{real:.8,imag:-.3},phase:180}),a.push({x:0,y:0,length:t*.47,current:{real:1,imag:0},phase:0});for(let n=1;n<=3;n++)a.push({x:t*.2*n,y:0,length:t*(.45-n*.02),current:{real:.6/n,imag:.2},phase:-30*n});break;case"patch":a.push({x:0,y:0,length:t/2,current:{real:1,imag:0},phase:0});break;case"array":for(let n=0;n<r.elements;n++)a.push({x:n*r.spacing*t,y:0,length:t/2,current:{real:1,imag:0},phase:n*60});break}L(a)},[S,r.wavelength,r.elements,r.spacing]);const k=(a,t)=>({real:a.real+t.real,imag:a.imag+t.imag}),C=a=>_(a.real*a.real+a.imag*a.imag),V=a=>J(a.imag,a.real),I=()=>{const a=[],t=y/r.wavelength;for(let s=0;s<=360;s+=2){const l=s*h/180;let o={real:0,imag:0};W.forEach(g=>{const P=g.x*u(l)+g.y*w(l),b=t*P+g.phase*h/180,j=S==="patch"?u(h/2*u(l))/w(l):u(h/2*u(l));if(!isFinite(j))return;const E={real:g.current.real*j*u(b+N.phaseOffset),imag:g.current.imag*j*w(b+N.phaseOffset)};o=k(o,E)});const x=C(o),m=V(o),p=20*Math.log10(x+1e-10);a.push({theta:s,magnitude:x,phase:m,directivity:T(p,-40,20)})}D(a);const n=Math.max(...a.map(s=>s.directivity)),c=a.find(s=>s.directivity===n),i=a.find(s=>Math.abs(s.theta-((c==null?void 0:c.theta)||0)-180)<10);v(s=>({...s,antennaGain:n,frontBackRatio:n-((i==null?void 0:i.directivity)||-40),beamwidth:X(a,n-3)}))},X=(a,t)=>{const n=a.find(s=>s.directivity===Math.max(...a.map(l=>l.directivity)));if(!n)return 90;let c=0,i=360;for(const s of a)if(s.directivity>=t&&(s.theta<n.theta&&(c=Math.max(c,s.theta)),s.theta>n.theta)){i=s.theta;break}return i-c},Y=()=>{const a=[],t=f.z0,n=f.zl,c=k(n,{real:-t,imag:0}),i=k(n,{real:t,imag:0}),s=C(i),l={real:(c.real*i.real+c.imag*i.imag)/(s*s),imag:(c.imag*i.real-c.real*i.imag)/(s*s)};a.push({z:n,reflection:l});for(let m=0;m<=.5;m+=.05){const p=y*m,g={real:l.real*u(2*p)+l.imag*w(2*p),imag:l.imag*u(2*p)-l.real*w(2*p)},P=k({real:1,imag:0},g),b=k({real:1,imag:0},{real:-g.real,imag:-g.imag}),j=C(b),E={real:t*(P.real*b.real+P.imag*b.imag)/(j*j),imag:t*(P.imag*b.real-P.real*b.imag)/(j*j)};a.push({z:E,reflection:g})}O(m=>({...m,impedancePoints:a}));const o=C(l),x=(1+o)/(1-o);v(m=>({...m,vswr:T(x,1,10)}))};d.useEffect(()=>{if(N.running){const a=()=>{q(t=>({...t,time:t.time+.01,phaseOffset:r.animatePhase?t.time*y*.1%y:0})),R.current=requestAnimationFrame(a)};R.current=requestAnimationFrame(a)}return()=>{R.current&&cancelAnimationFrame(R.current)}},[N.running,r.animatePhase]),d.useEffect(()=>{I(),Y()},[W,N.phaseOffset,f]);const H=()=>{const a=B.current,t=a==null?void 0:a.getContext("2d");if(!a||!t||A.length===0)return;t.clearRect(0,0,a.width,a.height);const n=a.width/2,c=a.height/2,i=Math.min(n,c)*.8;t.strokeStyle="#e0e0e0",t.lineWidth=1;for(let s=i/4;s<=i;s+=i/4)t.beginPath(),t.arc(n,c,s,0,y),t.stroke();for(let s=0;s<360;s+=30){const l=n+i*u(s*h/180),o=c+i*w(s*h/180);t.beginPath(),t.moveTo(n,c),t.lineTo(l,o),t.stroke(),t.fillStyle="#666",t.font="12px Arial",t.textAlign="center",t.fillText(`${s}°`,l*1.1-n*.1,o*1.1-c*.1)}t.strokeStyle="#ff4444",t.lineWidth=3,t.beginPath(),A.forEach((s,l)=>{const x=T((s.directivity+40)/60,0,1)*i,m=n+x*u(s.theta*h/180),p=c+x*w(s.theta*h/180);l===0?t.moveTo(m,p):t.lineTo(m,p)}),t.closePath(),t.stroke(),t.fillStyle="rgba(255, 68, 68, 0.3)",t.fill(),t.fillStyle="#333",t.font="10px Arial";for(let s=-30;s<=20;s+=10){const l=(s+40)/60*i;t.fillText(`${s}dB`,n+l+5,c)}},$=()=>{const a=M.current,t=a==null?void 0:a.getContext("2d");if(!a||!t)return;t.clearRect(0,0,a.width,a.height);const n=a.width/2,c=a.height/2,i=Math.min(n,c)*.8;t.strokeStyle="#e0e0e0",t.lineWidth=1,t.beginPath(),t.arc(n,c,i,0,y),t.stroke();for(let s=.2;s<=5;s*=2){const l=i/(1+s),o=n+i*s/(1+s);t.beginPath(),t.arc(o,c,l,0,y),t.stroke()}for(let s=.2;s<=5;s*=2){const l=i/s,o=c-i/s;t.beginPath(),t.arc(n+i,o,l,h/2,h),t.stroke(),t.beginPath(),t.arc(n+i,c+i/s,l,h,3*h/2),t.stroke()}if(F.impedancePoints.length>0){t.strokeStyle="#ff4444",t.lineWidth=2,t.beginPath(),F.impedancePoints.forEach((l,o)=>{const x=n+l.reflection.real*i,m=c-l.reflection.imag*i;o===0?t.moveTo(x,m):t.lineTo(x,m)}),t.stroke();const s=F.impedancePoints[0];if(s){const l=n+s.reflection.real*i,o=c-s.reflection.imag*i;t.fillStyle="#ff4444",t.beginPath(),t.arc(l,o,5,0,y),t.fill()}}t.fillStyle="#333",t.font="12px Arial",t.textAlign="center",t.fillText("Smith Chart",n,20),t.fillText("VSWR = "+r.vswr.toFixed(2),n,a.height-10)};d.useEffect(()=>{H(),$()},[A,F,r.vswr]);const U=()=>{q(a=>({...a,running:!a.running}))};return e.jsxs("div",{className:"container mx-auto px-4 py-8",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold mb-4",children:"RF & Antenna Design"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"Advanced antenna analysis with radiation patterns, Smith Chart impedance matching, and transmission line calculations."}),e.jsx("div",{className:"bg-slate-50 border border-slate-200 rounded-lg p-4",children:e.jsx("p",{className:"text-slate-800",children:"📡 RF design - radiation patterns, impedance matching, VSWR analysis, and antenna arrays"})})]}),e.jsxs("div",{className:"grid lg:grid-cols-4 gap-6",children:[e.jsxs("div",{className:"lg:col-span-1 space-y-6",children:[e.jsxs("div",{className:"bg-white border border-gray-300 rounded-lg p-4",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Antenna Design"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Antenna Type"}),e.jsxs("select",{value:S,onChange:a=>G(a.target.value),className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-md",children:[e.jsx("option",{value:"dipole",children:"Half-Wave Dipole"}),e.jsx("option",{value:"yagi",children:"Yagi-Uda Array"}),e.jsx("option",{value:"patch",children:"Microstrip Patch"}),e.jsx("option",{value:"array",children:"Linear Array"})]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Frequency: ",r.frequency," MHz"]}),e.jsx("input",{type:"range",min:"100",max:"6000",step:"50",value:r.frequency,onChange:a=>v(t=>({...t,frequency:Number(a.target.value)})),className:"w-full"})]}),S==="array"&&e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Elements: ",r.elements]}),e.jsx("input",{type:"range",min:"2",max:"8",step:"1",value:r.elements,onChange:a=>v(t=>({...t,elements:Number(a.target.value)})),className:"w-full"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Element Spacing: ",r.spacing.toFixed(2),"λ"]}),e.jsx("input",{type:"range",min:"0.1",max:"1",step:"0.05",value:r.spacing,onChange:a=>v(t=>({...t,spacing:Number(a.target.value)})),className:"w-full"})]}),e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",checked:r.animatePhase,onChange:a=>v(t=>({...t,animatePhase:a.target.checked})),className:"mr-2"}),e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Animate Phase"})]}),e.jsx("button",{onClick:U,className:`w-full px-3 py-2 rounded-md transition-colors ${N.running?"bg-red-600 text-white hover:bg-red-700":"bg-green-600 text-white hover:bg-green-700"}`,children:N.running?"Stop Animation":"Start Animation"})]})]}),e.jsxs("div",{className:"bg-white border border-gray-300 rounded-lg p-4",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Transmission Line"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Z₀: ",f.z0,"Ω"]}),e.jsx("input",{type:"range",min:"25",max:"100",step:"5",value:f.z0,onChange:a=>z(t=>({...t,z0:Number(a.target.value)})),className:"w-full"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Load R: ",f.zl.real.toFixed(1),"Ω"]}),e.jsx("input",{type:"range",min:"10",max:"150",step:"1",value:f.zl.real,onChange:a=>z(t=>({...t,zl:{...t.zl,real:Number(a.target.value)}})),className:"w-full"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Load X: ",f.zl.imag.toFixed(1),"Ω"]}),e.jsx("input",{type:"range",min:"-100",max:"100",step:"1",value:f.zl.imag,onChange:a=>z(t=>({...t,zl:{...t.zl,imag:Number(a.target.value)}})),className:"w-full"})]})]})]}),e.jsxs("div",{className:"bg-white border border-gray-300 rounded-lg p-4",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Performance"}),e.jsxs("div",{className:"space-y-3 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Gain:"}),e.jsxs("span",{className:"font-semibold",children:[r.antennaGain.toFixed(1)," dBi"]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Beamwidth:"}),e.jsxs("span",{className:"font-semibold",children:[r.beamwidth.toFixed(1),"°"]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"F/B Ratio:"}),e.jsxs("span",{className:"font-semibold",children:[r.frontBackRatio.toFixed(1)," dB"]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"VSWR:"}),e.jsxs("span",{className:"font-semibold",children:[r.vswr.toFixed(2),":1"]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Efficiency:"}),e.jsxs("span",{className:"font-semibold",children:[r.efficiency,"%"]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Wavelength:"}),e.jsxs("span",{className:"font-semibold",children:[(r.wavelength*100).toFixed(1)," cm"]})]})]})]})]}),e.jsxs("div",{className:"lg:col-span-3",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"bg-white border border-gray-300 rounded-lg p-4",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Radiation Pattern"}),e.jsx("canvas",{ref:B,width:300,height:300,className:"w-full max-w-sm mx-auto"})]}),e.jsxs("div",{className:"bg-white border border-gray-300 rounded-lg p-4",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Smith Chart"}),e.jsx("canvas",{ref:M,width:300,height:300,className:"w-full max-w-sm mx-auto"})]})]}),e.jsxs("div",{className:"mt-4 bg-white border border-gray-300 rounded-lg p-4",children:[e.jsx("h3",{className:"text-lg font-semibold mb-3",children:"Antenna Analysis"}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-blue-600",children:r.antennaGain.toFixed(1)}),e.jsx("div",{className:"text-sm text-gray-600",children:"Gain (dBi)"})]}),e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"text-2xl font-bold text-green-600",children:[r.beamwidth.toFixed(0),"°"]}),e.jsx("div",{className:"text-sm text-gray-600",children:"Beamwidth"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-purple-600",children:r.vswr.toFixed(2)}),e.jsx("div",{className:"text-sm text-gray-600",children:"VSWR"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-orange-600",children:r.frontBackRatio.toFixed(1)}),e.jsx("div",{className:"text-sm text-gray-600",children:"F/B Ratio (dB)"})]})]})]})]})]}),e.jsxs("div",{className:"mt-8 grid md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-slate-50 border border-slate-200 rounded-lg p-4",children:[e.jsx("h3",{className:"text-lg font-semibold mb-2 text-slate-800",children:"RF Engineering"}),e.jsxs("ul",{className:"text-slate-700 space-y-1",children:[e.jsxs("li",{children:["• ",e.jsx("strong",{children:"Radiation Pattern"}),": Directional power distribution"]}),e.jsxs("li",{children:["• ",e.jsx("strong",{children:"Smith Chart"}),": Impedance matching visualization"]}),e.jsxs("li",{children:["• ",e.jsx("strong",{children:"VSWR"}),": Voltage Standing Wave Ratio"]}),e.jsxs("li",{children:["• ",e.jsx("strong",{children:"Transmission Lines"}),": Impedance transformation"]})]})]}),e.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[e.jsx("h3",{className:"text-lg font-semibold mb-2 text-blue-800",children:"Applications"}),e.jsxs("ul",{className:"text-blue-700 space-y-1",children:[e.jsxs("li",{children:["• ",e.jsx("strong",{children:"Wireless Communications"}),": 5G, WiFi, Bluetooth"]}),e.jsxs("li",{children:["• ",e.jsx("strong",{children:"Radar Systems"}),": Weather, automotive, military"]}),e.jsxs("li",{children:["• ",e.jsx("strong",{children:"Satellite Communications"}),": Broadcasting, GPS"]}),e.jsxs("li",{children:["• ",e.jsx("strong",{children:"RF Test Equipment"}),": Network analyzers, generators"]})]})]})]}),e.jsx("div",{className:"mt-6",children:e.jsx(Z,{to:"/examples/engineering",className:"inline-block px-4 py-2 bg-slate-600 text-white rounded-lg hover:bg-slate-700 transition-colors",children:"← Back to Examples"})})]})};export{ee as component};
