import{r as a,b as c,j as e,L as V,h as X,w as Y}from"./index-BqTI3VMm.js";const K=function(){const f=a.useRef(null),h=a.useRef(),[$,A]=a.useState(!1),v=a.useRef(!1),[j,D]=a.useState(100),[p,T]=a.useState(5),[N,B]=a.useState("gravity"),[w,I]=a.useState(!0),d=a.useRef([]),g=a.useRef({x:0,y:0}),M=a.useRef(0),R=(o,n)=>{const i=c(0,Math.PI*2),t=c(1,4),r=c(60,180);return{position:{x:o,y:n},velocity:{x:Math.cos(i)*t,y:Math.sin(i)*t},acceleration:{x:0,y:0},life:r,maxLife:r,size:c(2,6),color:X(Y(0,360),c(50,100),c(40,80)),trail:[]}},q=o=>{const n=f.current;if(!n)return;const{width:i,height:t}=n,r=d.current;r.forEach(s=>{switch(s.acceleration={x:0,y:0},N){case"gravity":s.acceleration.y+=.2;break;case"explosion":const l=s.position.x-i/2,x=s.position.y-t/2,y=Math.sqrt(l*l+x*x);if(y>0){const u=50/(y*y);s.acceleration.x+=l/y*u,s.acceleration.y+=x/y*u}break;case"attractor":const C=g.current.x-s.position.x,S=g.current.y-s.position.y,b=Math.sqrt(C*C+S*S);if(b>0){const u=100/(b*b);s.acceleration.x+=C/b*u,s.acceleration.y+=S/b*u}break;case"repulsor":const E=s.position.x-g.current.x,P=s.position.y-g.current.y,m=Math.sqrt(E*E+P*P);if(m>0&&m<100){const u=200/(m*m);s.acceleration.x+=E/m*u,s.acceleration.y+=P/m*u}break}s.acceleration.x-=s.velocity.x*.01,s.acceleration.y-=s.velocity.y*.01,s.velocity.x+=s.acceleration.x,s.velocity.y+=s.acceleration.y,w&&(s.trail.push({x:s.position.x,y:s.position.y,alpha:s.life/s.maxLife}),s.trail.length>20&&s.trail.shift()),s.position.x+=s.velocity.x,s.position.y+=s.velocity.y,s.life-=1,(s.position.x<0||s.position.x>i)&&(s.velocity.x*=-.8,s.position.x=Math.max(0,Math.min(i,s.position.x))),(s.position.y<0||s.position.y>t)&&(s.velocity.y*=-.8,s.position.y=Math.max(0,Math.min(t,s.position.y)))}),d.current=r.filter(s=>s.life>0)},F=()=>{const o=f.current,n=o==null?void 0:o.getContext("2d");if(!o||!n)return;n.fillStyle="black",n.fillRect(0,0,o.width,o.height),d.current.forEach((t,r)=>{const s=Math.max(.1,Math.min(1,t.life/t.maxLife));if(!(t.life<=0)){if(n.save(),n.shadowColor="transparent",n.shadowBlur=0,n.globalAlpha=1,w&&t.trail.length>1){n.strokeStyle=`hsla(${t.color.h}, ${t.color.s}%, ${t.color.l}%, ${Math.max(.3,s*.5)})`,n.lineWidth=2,n.beginPath(),n.moveTo(t.trail[0].x,t.trail[0].y);for(let l=1;l<t.trail.length;l++)n.lineTo(t.trail[l].x,t.trail[l].y);n.stroke()}n.globalAlpha=s,n.fillStyle=`hsl(${t.color.h}, ${t.color.s}%, ${t.color.l}%)`,n.beginPath(),n.arc(t.position.x,t.position.y,t.size,0,Math.PI*2),n.fill(),n.globalAlpha=s*.5,n.shadowColor=`hsl(${t.color.h}, ${t.color.s}%, ${t.color.l}%)`,n.shadowBlur=t.size*3,n.fillStyle=`hsla(${t.color.h}, ${t.color.s}%, ${t.color.l}%, ${s*.3})`,n.beginPath(),n.arc(t.position.x,t.position.y,t.size*1.8,0,Math.PI*2),n.fill(),n.restore()}})},k=a.useRef(0),L=o=>{if(v.current){if(o-k.current,k.current=o,o-M.current>1e3/p&&d.current.length<j){const n=f.current;if(n)for(let i=0;i<Math.min(p,j-d.current.length);i++){const t=N==="explosion"?n.width/2:c(0,n.width),r=N==="explosion"?n.height/2:c(0,n.height);d.current.push(R(t,r))}M.current=o}q(),F(),v.current&&(h.current=requestAnimationFrame(L))}},z=()=>{A(!0),v.current=!0,k.current=performance.now(),M.current=performance.now(),h.current=requestAnimationFrame(L)},G=()=>{A(!1),v.current=!1,h.current&&cancelAnimationFrame(h.current)},W=()=>{d.current=[]};return a.useEffect(()=>{const o=f.current;if(!o)return;o.width=800,o.height=600;for(let t=0;t<10;t++)d.current.push(R(c(100,700),c(100,500)));F();const n=t=>{const r=o.getBoundingClientRect();g.current={x:t.clientX-r.left,y:t.clientY-r.top}},i=t=>{const r=o.getBoundingClientRect(),s=t.clientX-r.left,l=t.clientY-r.top;for(let x=0;x<10;x++)d.current.push(R(s,l))};return o.addEventListener("mousemove",n),o.addEventListener("click",i),()=>{o.removeEventListener("mousemove",n),o.removeEventListener("click",i),h.current&&cancelAnimationFrame(h.current)}},[]),e.jsxs("div",{className:"container mx-auto px-4 py-8",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold mb-4",children:"Advanced Particle Physics System"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"Multiple forces, interactive mouse controls, visual trails, and real-time physics parameter adjustment."}),e.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:e.jsx("p",{className:"text-green-800",children:"üéÜ Watch particles interact with forces, click to add bursts, move mouse for attraction/repulsion"})})]}),e.jsxs("div",{className:"mb-6",children:[e.jsxs("div",{className:"flex flex-wrap gap-4 mb-4",children:[e.jsx("button",{type:"button",onClick:z,disabled:$,className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:opacity-50 transition-colors",children:"Start Simulation"}),e.jsx("button",{type:"button",onClick:G,disabled:!$,className:"px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700 disabled:opacity-50 transition-colors",children:"Stop Simulation"}),e.jsx("button",{type:"button",onClick:W,className:"px-4 py-2 bg-gray-600 text-white rounded-md hover:bg-gray-700 transition-colors",children:"Clear Particles"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Max Particles: ",j]}),e.jsx("input",{type:"range",min:"50",max:"500",value:j,onChange:o=>D(Number(o.target.value)),className:"w-full"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Emission Rate: ",p,"/sec"]}),e.jsx("input",{type:"range",min:"1",max:"20",value:p,onChange:o=>T(Number(o.target.value)),className:"w-full"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Force Type"}),e.jsxs("select",{value:N,onChange:o=>B(o.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"gravity",children:"Gravity"}),e.jsx("option",{value:"explosion",children:"Explosion"}),e.jsx("option",{value:"attractor",children:"Mouse Attractor"}),e.jsx("option",{value:"repulsor",children:"Mouse Repulsor"})]})]}),e.jsx("div",{className:"flex items-center",children:e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",checked:w,onChange:o=>I(o.target.checked),className:"mr-2"}),e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Show Trails"})]})})]})]}),e.jsx("div",{className:"mb-6",children:e.jsx("canvas",{ref:f,className:"border border-gray-300 rounded-lg bg-black cursor-crosshair",style:{maxWidth:"100%",height:"auto"}})}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:[e.jsx("h3",{className:"text-lg font-semibold mb-2 text-yellow-800",children:"Physics Features"}),e.jsxs("ul",{className:"text-yellow-700 space-y-1",children:[e.jsxs("li",{children:["‚Ä¢ ",e.jsx("strong",{children:"Multiple Forces"}),": Gravity, explosion, attraction, repulsion"]}),e.jsxs("li",{children:["‚Ä¢ ",e.jsx("strong",{children:"Collision Detection"}),": Bouncing off canvas boundaries"]}),e.jsxs("li",{children:["‚Ä¢ ",e.jsx("strong",{children:"Drag Forces"}),": Air resistance simulation"]}),e.jsxs("li",{children:["‚Ä¢ ",e.jsx("strong",{children:"Mouse Interaction"}),": Dynamic force application"]})]})]}),e.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[e.jsx("h3",{className:"text-lg font-semibold mb-2 text-blue-800",children:"Visual Effects"}),e.jsxs("ul",{className:"text-blue-700 space-y-1",children:[e.jsxs("li",{children:["‚Ä¢ ",e.jsx("strong",{children:"Particle Trails"}),": Motion blur and path visualization"]}),e.jsxs("li",{children:["‚Ä¢ ",e.jsx("strong",{children:"Color Variations"}),": HSL color space for vibrant effects"]}),e.jsxs("li",{children:["‚Ä¢ ",e.jsx("strong",{children:"Alpha Blending"}),": Fade effects based on particle life"]}),e.jsxs("li",{children:["‚Ä¢ ",e.jsx("strong",{children:"Glow Effects"}),": Canvas shadow blur for luminous particles"]})]})]})]}),e.jsx("div",{className:"mt-6",children:e.jsx(V,{to:"/examples/visual",className:"inline-block px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:"‚Üê Back to Examples"})})]})};export{K as component};
